initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 3
[pid = 5751, dev = 3] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
using DMA-BUF for GPU buffer address at 0x7fe44c000000 aligned at 0x7fe44c000000 with aligned size 67108864
allocated GPU buffer of a 67108864 address at 0x6f1310 for type CUDA_MEM_DEVICE
Calling ibv_reg_dmabuf_mr(offset=0, size=67108864, addr=0x7fe44c000000, fd=58) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 4		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : ON
 Data ex. method : rdma_cm 	TOS    : 41
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x06a6 PSN 0xefbcd3
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:03:226
 local address: LID 0000 QPN 0x06a7 PSN 0x461c1
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:03:226
 local address: LID 0000 QPN 0x06a8 PSN 0xe8677
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:03:226
 local address: LID 0000 QPN 0x06a9 PSN 0xd8c9fa
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:03:226
 remote address: LID 0000 QPN 0x06aa PSN 0xe894b2
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:03:226
 remote address: LID 0000 QPN 0x06ab PSN 0x7ea5b4
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:03:226
 remote address: LID 0000 QPN 0x06ac PSN 0x2dc6ee
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:03:226
 remote address: LID 0000 QPN 0x06ad PSN 0xc626a5
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:03:226
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          4000           0.033520            0.033065            2.066564
 4          4000           0.069032            0.067675            2.114847
 8          4000             0.14               0.13   		     2.104931
 16         4000             0.27               0.27   		     2.112435
 32         4000             0.55               0.54   		     2.122996
 64         4000             1.10               1.08   		     2.119104
 128        4000             2.19               2.16   		     2.106426
 256        4000             4.40               4.35   		     2.122556
 512        4000             8.69               8.60   		     2.100719
 1024       4000             17.44              17.22  		     2.102651
 2048       4000             34.78              34.43  		     2.101402
 4096       4000             42.77              41.49  		     1.266087
 8192       4000             42.39              21.94  		     0.334716
 16384      4000             70.77              61.50  		     0.469242
 32768      4000             70.15              66.49  		     0.253632
 65536      4000             69.90              68.43  		     0.130525
 131072     4000             70.65              70.65  		     0.067374
 262144     4000             75.10              75.10  		     0.035810
 524288     4000             73.53              73.52  		     0.017528
 1048576    4000             73.90              73.69  		     0.008784
 2097152    4000             73.77              73.51  		     0.004382
 4194304    4000             73.74              73.62  		     0.002194
 8388608    4000             76.78              73.45  		     0.001094
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007fe44c000000
destroying current CUDA Ctx
