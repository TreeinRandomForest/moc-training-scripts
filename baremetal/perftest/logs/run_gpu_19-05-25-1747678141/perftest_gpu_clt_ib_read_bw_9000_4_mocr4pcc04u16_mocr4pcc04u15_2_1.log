initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 1
[pid = 37511, dev = 1] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 67108864 bytes GPU buffer
allocated GPU buffer address at 00007efcac000000 pointer=0x7efcac000000
using DMA-BUF for GPU buffer address at 0x7efcac000000 aligned at 0x7efcac000000 with aligned size 67108864
Calling ibv_reg_dmabuf_mr(offset=0, size=67108864, addr=0x7efcac000000, fd=58) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 4		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : ON
 Data ex. method : rdma_cm 	TOS    : 41
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x0ff1 PSN 0xd52f8e
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0ff2 PSN 0xa4b097
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0ff3 PSN 0xf5e85f
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0ff4 PSN 0xbd768b
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0ff0 PSN 0x6f850b
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0ff1 PSN 0x6564d0
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0ff2 PSN 0x79daa4
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0ff3 PSN 0x319bec
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          4000           0.030717            0.030401            1.900048
 4          4000           0.061277            0.060504            1.890761
 8          4000             0.12               0.12   		     1.901837
 16         4000             0.24               0.24   		     1.903176
 32         4000             0.49               0.46   		     1.797236
 64         4000             0.98               0.98   		     1.907451
 128        4000             1.94               1.93   		     1.883655
 256        4000             3.94               3.90   		     1.903955
 512        4000             7.83               7.78   		     1.899534
 1024       4000             15.61              15.46  		     1.886980
 2048       4000             31.06              30.41  		     1.856037
 4096       4000             54.45              54.41  		     1.660405
 8192       4000             55.23              55.21  		     0.842401
 16384      4000             100.14             75.03  		     0.572435
 32768      4000             105.06             87.77  		     0.334815
 65536      4000             106.67             99.04  		     0.188897
 131072     4000             107.71             104.94 		     0.100083
 262144     4000             108.59             108.59 		     0.051778
 524288     4000             110.02             110.02 		     0.026231
 1048576    4000             110.92             110.92 		     0.013223
 2097152    4000             111.36             111.36 		     0.006637
 4194304    4000             111.59             111.59 		     0.003326
 8388608    4000             111.65             111.65 		     0.001664
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007efcac000000
destroying current CUDA Ctx
