initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 1
[pid = 10851, dev = 1] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f17c4000000 pointer=0x7f17c4000000
using DMA-BUF for GPU buffer address at 0x7f17c4000000 aligned at 0x7f17c4000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f17c4000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x02f0 PSN 0x89aa7f OUT 0x10 RKey 0x183000 VAddr 0x007f17cc000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02f1 PSN 0xa71bfd OUT 0x10 RKey 0x183000 VAddr 0x007f17cc800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02f2 PSN 0xf9ba03 OUT 0x10 RKey 0x183000 VAddr 0x007f17cd000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02f3 PSN 0x5d8496 OUT 0x10 RKey 0x183000 VAddr 0x007f17cd800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02f4 PSN 0xa9edf1 OUT 0x10 RKey 0x183000 VAddr 0x007f17ce000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02f5 PSN 0xe52aff OUT 0x10 RKey 0x183000 VAddr 0x007f17ce800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02f6 PSN 0x3229f2 OUT 0x10 RKey 0x183000 VAddr 0x007f17cf000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02f7 PSN 0xe88403 OUT 0x10 RKey 0x183000 VAddr 0x007f17cf800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02f8 PSN 0x2dc0eb OUT 0x10 RKey 0x183000 VAddr 0x007f17d0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02f9 PSN 0x38c391 OUT 0x10 RKey 0x183000 VAddr 0x007f17d0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02fa PSN 0x9cc061 OUT 0x10 RKey 0x183000 VAddr 0x007f17d1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02fb PSN 0x3bcfe0 OUT 0x10 RKey 0x183000 VAddr 0x007f17d1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02fc PSN 0xc3b04c OUT 0x10 RKey 0x183000 VAddr 0x007f17d2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02fd PSN 0x124209 OUT 0x10 RKey 0x183000 VAddr 0x007f17d2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02fe PSN 0xe5b893 OUT 0x10 RKey 0x183000 VAddr 0x007f17d3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02ff PSN 0x71785b OUT 0x10 RKey 0x183000 VAddr 0x007f17d3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x02f0 PSN 0x3987e2 OUT 0x10 RKey 0x182f00 VAddr 0x007f6aac000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02f1 PSN 0xb35124 OUT 0x10 RKey 0x182f00 VAddr 0x007f6aac800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02f2 PSN 0xe1659e OUT 0x10 RKey 0x182f00 VAddr 0x007f6aad000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02f3 PSN 0x12d795 OUT 0x10 RKey 0x182f00 VAddr 0x007f6aad800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02f4 PSN 0x835e84 OUT 0x10 RKey 0x182f00 VAddr 0x007f6aae000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02f5 PSN 0x222b96 OUT 0x10 RKey 0x182f00 VAddr 0x007f6aae800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02f6 PSN 0xe7143d OUT 0x10 RKey 0x182f00 VAddr 0x007f6aaf000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02f7 PSN 0x93a7f2 OUT 0x10 RKey 0x182f00 VAddr 0x007f6aaf800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02f8 PSN 0xa8c7ae OUT 0x10 RKey 0x182f00 VAddr 0x007f6ab0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02f9 PSN 0x71d698 OUT 0x10 RKey 0x182f00 VAddr 0x007f6ab0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02fa PSN 0x76245c OUT 0x10 RKey 0x182f00 VAddr 0x007f6ab1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02fb PSN 0x2e3bf OUT 0x10 RKey 0x182f00 VAddr 0x007f6ab1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02fc PSN 0xf5803f OUT 0x10 RKey 0x182f00 VAddr 0x007f6ab2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02fd PSN 0x201e80 OUT 0x10 RKey 0x182f00 VAddr 0x007f6ab2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02fe PSN 0x93813e OUT 0x10 RKey 0x182f00 VAddr 0x007f6ab3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02ff PSN 0x5d8b2a OUT 0x10 RKey 0x182f00 VAddr 0x007f6ab3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.085511            0.083608            5.225514
 4          16000            0.18               0.17   		     5.466852
 8          16000            0.35               0.35   		     5.469880
 16         16000            0.70               0.70   		     5.463772
 32         16000            1.40               1.39   		     5.448449
 64         16000            2.80               2.80   		     5.469263
 128        16000            5.58               5.58   		     5.445382
 256        16000            11.21              11.17  		     5.453641
 512        16000            22.42              22.27  		     5.437442
 1024       16000            46.20              45.94  		     5.607817
 2048       16000            96.76              95.92  		     5.854222
 4096       16000            202.55             200.48 		     6.118126
 8192       16000            208.27             208.04 		     3.174477
 16384      16000            209.01             208.87 		     1.593589
 32768      16000            209.23             209.19 		     0.797980
 65536      16000            209.27             209.25 		     0.399117
 131072     16000            209.36             209.34 		     0.199646
 262144     16000            209.42             209.41 		     0.099855
 524288     16000            209.43             209.43 		     0.049931
 1048576    16000            209.45             209.45 		     0.024968
 2097152    16000            192.74             192.74 		     0.011488
 4194304    16000            171.04             171.04 		     0.005097
 8388608    16000            171.04             171.04 		     0.002549
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f17c4000000
destroying current CUDA Ctx
