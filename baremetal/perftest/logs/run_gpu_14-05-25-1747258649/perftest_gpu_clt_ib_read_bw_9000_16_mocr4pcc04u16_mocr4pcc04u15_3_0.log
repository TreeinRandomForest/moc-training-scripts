initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 0
[pid = 29465, dev = 0] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f8be4000000 pointer=0x7f8be4000000
using DMA-BUF for GPU buffer address at 0x7f8be4000000 aligned at 0x7f8be4000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f8be4000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 5
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x103a PSN 0xa6949b OUT 0x10 RKey 0x182f00 VAddr 0x007f8bec000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x103b PSN 0x1bf1e9 OUT 0x10 RKey 0x182f00 VAddr 0x007f8bec800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x103c PSN 0x7ad77f OUT 0x10 RKey 0x182f00 VAddr 0x007f8bed000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x103d PSN 0x247a62 OUT 0x10 RKey 0x182f00 VAddr 0x007f8bed800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x103e PSN 0x45ddcd OUT 0x10 RKey 0x182f00 VAddr 0x007f8bee000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x103f PSN 0x99f3ab OUT 0x10 RKey 0x182f00 VAddr 0x007f8bee800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1040 PSN 0x6232e OUT 0x10 RKey 0x182f00 VAddr 0x007f8bef000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1041 PSN 0x658a8f OUT 0x10 RKey 0x182f00 VAddr 0x007f8bef800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1042 PSN 0x5b5287 OUT 0x10 RKey 0x182f00 VAddr 0x007f8bf0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1043 PSN 0x41eafd OUT 0x10 RKey 0x182f00 VAddr 0x007f8bf0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1044 PSN 0x7d915d OUT 0x10 RKey 0x182f00 VAddr 0x007f8bf1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1045 PSN 0x7332c OUT 0x10 RKey 0x182f00 VAddr 0x007f8bf1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1046 PSN 0xa33fa8 OUT 0x10 RKey 0x182f00 VAddr 0x007f8bf2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1047 PSN 0xdef435 OUT 0x10 RKey 0x182f00 VAddr 0x007f8bf2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1048 PSN 0xb11d4f OUT 0x10 RKey 0x182f00 VAddr 0x007f8bf3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1049 PSN 0xdc4467 OUT 0x10 RKey 0x182f00 VAddr 0x007f8bf3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x103a PSN 0xf55bb9 OUT 0x10 RKey 0x183000 VAddr 0x007f61ac000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x103b PSN 0x33adaf OUT 0x10 RKey 0x183000 VAddr 0x007f61ac800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x103c PSN 0xd1aecd OUT 0x10 RKey 0x183000 VAddr 0x007f61ad000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x103d PSN 0x763a98 OUT 0x10 RKey 0x183000 VAddr 0x007f61ad800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x103e PSN 0x8d38cb OUT 0x10 RKey 0x183000 VAddr 0x007f61ae000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x103f PSN 0xe3e5d1 OUT 0x10 RKey 0x183000 VAddr 0x007f61ae800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1040 PSN 0x18615c OUT 0x10 RKey 0x183000 VAddr 0x007f61af000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1041 PSN 0x6f5825 OUT 0x10 RKey 0x183000 VAddr 0x007f61af800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1042 PSN 0x849f65 OUT 0x10 RKey 0x183000 VAddr 0x007f61b0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1043 PSN 0x8f1983 OUT 0x10 RKey 0x183000 VAddr 0x007f61b0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1044 PSN 0xaec46b OUT 0x10 RKey 0x183000 VAddr 0x007f61b1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1045 PSN 0xc08422 OUT 0x10 RKey 0x183000 VAddr 0x007f61b1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1046 PSN 0xfbc66 OUT 0x10 RKey 0x183000 VAddr 0x007f61b2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1047 PSN 0x4ac51b OUT 0x10 RKey 0x183000 VAddr 0x007f61b2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1048 PSN 0x4fb33d OUT 0x10 RKey 0x183000 VAddr 0x007f61b3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1049 PSN 0x7deebd OUT 0x10 RKey 0x183000 VAddr 0x007f61b3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.080178            0.079961            4.997564
 4          16000            0.16               0.16   		     5.075868
 8          16000            0.32               0.32   		     5.050075
 16         16000            0.65               0.65   		     5.046077
 32         16000            1.29               1.29   		     5.042880
 64         16000            2.61               2.59   		     5.055404
 128        16000            5.19               5.18   		     5.055484
 256        16000            10.36              10.30  		     5.031162
 512        16000            20.03              19.74  		     4.819013
 1024       16000            41.42              41.28  		     5.039243
 2048       16000            81.38              80.65  		     4.922350
 4096       16000            164.57             164.34 		     5.015328
 8192       16000            196.35             196.30 		     2.995273
 16384      16000            197.13             197.02 		     1.503167
 32768      16000            195.50             195.47 		     0.745673
 65536      16000            190.94             176.51 		     0.336666
 131072     16000            191.21             189.34 		     0.180564
 262144     16000            197.36             197.35 		     0.094104
 524288     16000            194.83             194.82 		     0.046449
 1048576    16000            196.71             196.71 		     0.023449
 2097152    16000            184.38             184.38 		     0.010990
 4194304    16000            163.04             163.04 		     0.004859
 8388608    16000            163.22             163.22 		     0.002432
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f8be4000000
destroying current CUDA Ctx
