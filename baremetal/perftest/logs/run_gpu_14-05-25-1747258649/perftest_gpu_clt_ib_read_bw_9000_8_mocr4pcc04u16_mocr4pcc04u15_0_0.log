initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 0
[pid = 20764, dev = 0] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 134217728 bytes GPU buffer
allocated GPU buffer address at 00007fe98e000000 pointer=0x7fe98e000000
using DMA-BUF for GPU buffer address at 0x7fe98e000000 aligned at 0x7fe98e000000 with aligned size 134217728
Calling ibv_reg_dmabuf_mr(offset=0, size=134217728, addr=0x7fe98e000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 8		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 5
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x0a4a PSN 0x50edc6 OUT 0x10 RKey 0x182f00 VAddr 0x007fe992000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0a4b PSN 0x648b38 OUT 0x10 RKey 0x182f00 VAddr 0x007fe992800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0a4c PSN 0xf51822 OUT 0x10 RKey 0x182f00 VAddr 0x007fe993000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0a4d PSN 0x8871c9 OUT 0x10 RKey 0x182f00 VAddr 0x007fe993800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0a4e PSN 0x10bea8 OUT 0x10 RKey 0x182f00 VAddr 0x007fe994000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0a4f PSN 0xe472ea OUT 0x10 RKey 0x182f00 VAddr 0x007fe994800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0a50 PSN 0x24eb01 OUT 0x10 RKey 0x182f00 VAddr 0x007fe995000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0a51 PSN 0x8c3166 OUT 0x10 RKey 0x182f00 VAddr 0x007fe995800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0a4a PSN 0xb662a4 OUT 0x10 RKey 0x182f00 VAddr 0x007f3194000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0a4b PSN 0x3ec1be OUT 0x10 RKey 0x182f00 VAddr 0x007f3194800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0a4c PSN 0x62b330 OUT 0x10 RKey 0x182f00 VAddr 0x007f3195000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0a4d PSN 0x6a0abf OUT 0x10 RKey 0x182f00 VAddr 0x007f3195800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0a4e PSN 0x53e366 OUT 0x10 RKey 0x182f00 VAddr 0x007f3196000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0a4f PSN 0xa5cbd0 OUT 0x10 RKey 0x182f00 VAddr 0x007f3196800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0a50 PSN 0x5e68ef OUT 0x10 RKey 0x182f00 VAddr 0x007f3197000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0a51 PSN 0x92a3bc OUT 0x10 RKey 0x182f00 VAddr 0x007f3197800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          8000           0.082192            0.080243            5.015203
 4          8000             0.17               0.16   		     5.001720
 8          8000             0.33               0.32   		     4.992979
 16         8000             0.67               0.67   		     5.201493
 32         8000             1.33               1.32   		     5.158495
 64         8000             2.69               2.66   		     5.199600
 128        8000             5.28               5.11   		     4.991888
 256        8000             10.57              10.53  		     5.141620
 512        8000             21.24              20.24  		     4.940926
 1024       8000             42.37              39.65  		     4.840505
 2048       8000             83.78              77.91  		     4.755507
 4096       8000             162.04             147.62 		     4.505063
 8192       8000             205.37             205.16 		     3.130552
 16384      8000             201.58             200.56 		     1.530172
 32768      8000             196.94             196.89 		     0.751076
 65536      8000             202.97             202.94 		     0.387087
 131072     8000             206.25             206.24 		     0.196682
 262144     8000             209.04             209.03 		     0.099674
 524288     8000             208.80             208.79 		     0.049780
 1048576    8000             209.57             209.57 		     0.024983
 2097152    8000             209.54             209.54 		     0.012489
 4194304    8000             202.82             202.82 		     0.006044
 8388608    8000             171.28             171.28 		     0.002552
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007fe98e000000
destroying current CUDA Ctx
