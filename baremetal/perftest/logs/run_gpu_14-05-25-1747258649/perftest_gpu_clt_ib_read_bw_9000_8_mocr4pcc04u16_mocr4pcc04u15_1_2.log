initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 2
[pid = 25089, dev = 2] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 134217728 bytes GPU buffer
allocated GPU buffer address at 00007f390c000000 pointer=0x7f390c000000
using DMA-BUF for GPU buffer address at 0x7f390c000000 aligned at 0x7f390c000000 with aligned size 134217728
Calling ibv_reg_dmabuf_mr(offset=0, size=134217728, addr=0x7f390c000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 8		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 5
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x0d3e PSN 0x92b5fb OUT 0x10 RKey 0x182f00 VAddr 0x007f3910000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d3f PSN 0x2267c9 OUT 0x10 RKey 0x182f00 VAddr 0x007f3910800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d40 PSN 0xa247df OUT 0x10 RKey 0x182f00 VAddr 0x007f3911000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d41 PSN 0x659342 OUT 0x10 RKey 0x182f00 VAddr 0x007f3911800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d42 PSN 0xd6b52d OUT 0x10 RKey 0x182f00 VAddr 0x007f3912000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d43 PSN 0x45e78b OUT 0x10 RKey 0x182f00 VAddr 0x007f3912800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d44 PSN 0xd8398e OUT 0x10 RKey 0x182f00 VAddr 0x007f3913000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d45 PSN 0x73516f OUT 0x10 RKey 0x182f00 VAddr 0x007f3913800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0d3e PSN 0x9484 OUT 0x10 RKey 0x182f00 VAddr 0x007efe44000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d3f PSN 0x253e1e OUT 0x10 RKey 0x182f00 VAddr 0x007efe44800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d40 PSN 0xc3e810 OUT 0x10 RKey 0x182f00 VAddr 0x007efe45000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d41 PSN 0xcece1f OUT 0x10 RKey 0x182f00 VAddr 0x007efe45800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d42 PSN 0x435346 OUT 0x10 RKey 0x182f00 VAddr 0x007efe46000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d43 PSN 0x9bae30 OUT 0x10 RKey 0x182f00 VAddr 0x007efe46800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d44 PSN 0xf20bcf OUT 0x10 RKey 0x182f00 VAddr 0x007efe47000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d45 PSN 0x443d1c OUT 0x10 RKey 0x182f00 VAddr 0x007efe47800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          8000           0.081812            0.077984            4.873989
 4          8000             0.17               0.16   		     5.020885
 8          8000             0.33               0.33   		     5.200109
 16         8000             0.67               0.66   		     5.189632
 32         8000             1.34               1.34   		     5.221856
 64         8000             2.68               2.67   		     5.209961
 128        8000             5.33               5.27   		     5.150415
 256        8000             10.62              10.61  		     5.180231
 512        8000             21.23              21.14  		     5.162329
 1024       8000             42.57              42.33  		     5.167096
 2048       8000             84.55              84.42  		     5.152325
 4096       8000             167.94             167.77 		     5.119793
 8192       8000             199.53             199.08 		     3.037664
 16384      8000             202.13             202.10 		     1.541919
 32768      8000             202.54             202.53 		     0.772584
 65536      8000             201.20             201.17 		     0.383703
 131072     8000             199.82             199.31 		     0.190078
 262144     8000             200.29             200.29 		     0.095505
 524288     8000             200.48             200.48 		     0.047798
 1048576    8000             199.06             199.04 		     0.023728
 2097152    8000             199.47             199.34 		     0.011882
 4194304    8000             197.19             196.89 		     0.005868
 8388608    8000             166.85             166.85 		     0.002486
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f390c000000
destroying current CUDA Ctx
