initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 1
[pid = 19600, dev = 1] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f62b8000000 pointer=0x7f62b8000000
using DMA-BUF for GPU buffer address at 0x7f62b8000000 aligned at 0x7f62b8000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f62b8000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x08d8 PSN 0xadc466 OUT 0x10 RKey 0x183000 VAddr 0x007f62c0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x08d9 PSN 0x3fad58 OUT 0x10 RKey 0x183000 VAddr 0x007f62c0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x08da PSN 0x6b5fc2 OUT 0x10 RKey 0x183000 VAddr 0x007f62c1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x08db PSN 0xbeb0e9 OUT 0x10 RKey 0x183000 VAddr 0x007f62c1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x08dc PSN 0x605f48 OUT 0x10 RKey 0x183000 VAddr 0x007f62c2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x08dd PSN 0x9b970a OUT 0x10 RKey 0x183000 VAddr 0x007f62c2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x08de PSN 0x140ca1 OUT 0x10 RKey 0x183000 VAddr 0x007f62c3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x08df PSN 0x134286 OUT 0x10 RKey 0x183000 VAddr 0x007f62c3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x08e0 PSN 0x4e90b2 OUT 0x10 RKey 0x183000 VAddr 0x007f62c4000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x08e1 PSN 0x52054c OUT 0x10 RKey 0x183000 VAddr 0x007f62c4800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x08e2 PSN 0xcfbf00 OUT 0x10 RKey 0x183000 VAddr 0x007f62c5000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x08e3 PSN 0x491393 OUT 0x10 RKey 0x183000 VAddr 0x007f62c5800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x08e4 PSN 0x405583 OUT 0x10 RKey 0x183000 VAddr 0x007f62c6000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x08e5 PSN 0x480474 OUT 0x10 RKey 0x183000 VAddr 0x007f62c6800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x08e6 PSN 0x19a222 OUT 0x10 RKey 0x183000 VAddr 0x007f62c7000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x08e7 PSN 0x36643e OUT 0x10 RKey 0x183000 VAddr 0x007f62c7800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x08d8 PSN 0x5b6019 OUT 0x10 RKey 0x182f00 VAddr 0x007f6696000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x08d9 PSN 0x11ca8f OUT 0x10 RKey 0x182f00 VAddr 0x007f6696800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x08da PSN 0xd53a2d OUT 0x10 RKey 0x182f00 VAddr 0x007f6697000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x08db PSN 0xb0d278 OUT 0x10 RKey 0x182f00 VAddr 0x007f6697800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x08dc PSN 0x73232b OUT 0x10 RKey 0x182f00 VAddr 0x007f6698000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x08dd PSN 0xdaf0b1 OUT 0x10 RKey 0x182f00 VAddr 0x007f6698800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x08de PSN 0x8d42bc OUT 0x10 RKey 0x182f00 VAddr 0x007f6699000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x08df PSN 0x2f8e05 OUT 0x10 RKey 0x182f00 VAddr 0x007f6699800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x08e0 PSN 0x42cfc5 OUT 0x10 RKey 0x182f00 VAddr 0x007f669a000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x08e1 PSN 0x7ff263 OUT 0x10 RKey 0x182f00 VAddr 0x007f669a800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x08e2 PSN 0x945bcb OUT 0x10 RKey 0x182f00 VAddr 0x007f669b000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x08e3 PSN 0x23802 OUT 0x10 RKey 0x182f00 VAddr 0x007f669b800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x08e4 PSN 0x2492c6 OUT 0x10 RKey 0x182f00 VAddr 0x007f669c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x08e5 PSN 0x444bfb OUT 0x10 RKey 0x182f00 VAddr 0x007f669c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x08e6 PSN 0x3b609d OUT 0x10 RKey 0x182f00 VAddr 0x007f669d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x08e7 PSN 0x1b009d OUT 0x10 RKey 0x182f00 VAddr 0x007f669d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.084309            0.083963            5.247691
 4          16000            0.17               0.17   		     5.349596
 8          16000            0.34               0.34   		     5.358806
 16         16000            0.69               0.68   		     5.336020
 32         16000            1.38               1.37   		     5.350580
 64         16000            2.76               2.75   		     5.365598
 128        16000            5.49               5.47   		     5.337300
 256        16000            10.95              10.93  		     5.334934
 512        16000            21.84              21.71  		     5.300452
 1024       16000            44.85              44.83  		     5.471844
 2048       16000            94.04              93.43  		     5.702352
 4096       16000            192.50             192.12 		     5.862996
 8192       16000            196.35             196.04 		     2.991353
 16384      16000            197.13             197.10 		     1.503769
 32768      16000            197.33             197.32 		     0.752721
 65536      16000            197.46             197.45 		     0.376597
 131072     16000            197.51             197.50 		     0.188355
 262144     16000            197.58             197.58 		     0.094213
 524288     16000            197.58             197.58 		     0.047106
 1048576    16000            197.55             197.55 		     0.023550
 2097152    16000            184.99             184.99 		     0.011026
 4194304    16000            163.50             163.50 		     0.004873
 8388608    16000            163.46             163.46 		     0.002436
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f62b8000000
destroying current CUDA Ctx
