initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 0
[pid = 10102, dev = 0] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 134217728 bytes GPU buffer
allocated GPU buffer address at 00007f0d40000000 pointer=0x7f0d40000000
using DMA-BUF for GPU buffer address at 0x7f0d40000000 aligned at 0x7f0d40000000 with aligned size 134217728
Calling ibv_reg_dmabuf_mr(offset=0, size=134217728, addr=0x7f0d40000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 8		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x026a PSN 0x26d6a9 OUT 0x10 RKey 0x182f00 VAddr 0x007f0d44000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x026b PSN 0xf8a5df OUT 0x10 RKey 0x182f00 VAddr 0x007f0d44800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x026c PSN 0xea7b3d OUT 0x10 RKey 0x182f00 VAddr 0x007f0d45000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x026d PSN 0xf1e648 OUT 0x10 RKey 0x182f00 VAddr 0x007f0d45800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x026e PSN 0xb572bb OUT 0x10 RKey 0x182f00 VAddr 0x007f0d46000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x026f PSN 0x523101 OUT 0x10 RKey 0x182f00 VAddr 0x007f0d46800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0270 PSN 0xdb84cc OUT 0x10 RKey 0x182f00 VAddr 0x007f0d47000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0271 PSN 0x9c0ed5 OUT 0x10 RKey 0x182f00 VAddr 0x007f0d47800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x026a PSN 0x5249cc OUT 0x10 RKey 0x182f00 VAddr 0x007fd310000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x026b PSN 0xa490fd OUT 0x10 RKey 0x182f00 VAddr 0x007fd310800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x026c PSN 0x8c17cd OUT 0x10 RKey 0x182f00 VAddr 0x007fd311000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x026d PSN 0xb47c61 OUT 0x10 RKey 0x182f00 VAddr 0x007fd311800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x026e PSN 0xec4497 OUT 0x10 RKey 0x182f00 VAddr 0x007fd312000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x026f PSN 0x8ec077 OUT 0x10 RKey 0x182f00 VAddr 0x007fd312800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0270 PSN 0xda2ad4 OUT 0x10 RKey 0x182f00 VAddr 0x007fd313000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0271 PSN 0x1d7d07 OUT 0x10 RKey 0x182f00 VAddr 0x007fd313800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          8000           0.077586            0.077307            4.831705
 4          8000             0.16               0.16   		     5.070287
 8          8000             0.33               0.33   		     5.124066
 16         8000             0.66               0.66   		     5.123541
 32         8000             1.32               1.30   		     5.089221
 64         8000             2.63               2.61   		     5.105688
 128        8000             5.26               5.25   		     5.126628
 256        8000             10.50              10.47  		     5.112441
 512        8000             20.99              20.87  		     5.095476
 1024       8000             41.80              41.78  		     5.099764
 2048       8000             83.40              83.28  		     5.082850
 4096       8000             163.12             161.26 		     4.921381
 8192       8000             205.94             205.81 		     3.140482
 16384      8000             208.27             208.25 		     1.588805
 32768      8000             209.16             209.09 		     0.797619
 65536      8000             209.19             209.18 		     0.398973
 131072     8000             209.36             209.35 		     0.199649
 262144     8000             209.37             209.36 		     0.099832
 524288     8000             209.42             209.42 		     0.049929
 1048576    8000             209.46             209.46 		     0.024970
 2097152    8000             209.45             209.45 		     0.012484
 4194304    8000             205.28             205.28 		     0.006118
 8388608    8000             171.22             171.22 		     0.002551
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f0d40000000
destroying current CUDA Ctx
