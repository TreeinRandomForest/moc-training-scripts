initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 2
[pid = 30811, dev = 2] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f4864000000 pointer=0x7f4864000000
using DMA-BUF for GPU buffer address at 0x7f4864000000 aligned at 0x7f4864000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f4864000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 5
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x142a PSN 0x1ec631 OUT 0x10 RKey 0x182f00 VAddr 0x007f486c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x142b PSN 0x1dd2c7 OUT 0x10 RKey 0x182f00 VAddr 0x007f486c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x142c PSN 0xf70a05 OUT 0x10 RKey 0x182f00 VAddr 0x007f486d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x142d PSN 0xf26170 OUT 0x10 RKey 0x182f00 VAddr 0x007f486d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x142e PSN 0x6fd2c3 OUT 0x10 RKey 0x182f00 VAddr 0x007f486e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x142f PSN 0x544469 OUT 0x10 RKey 0x182f00 VAddr 0x007f486e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1430 PSN 0xd3814 OUT 0x10 RKey 0x182f00 VAddr 0x007f486f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1431 PSN 0x38147d OUT 0x10 RKey 0x182f00 VAddr 0x007f486f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1432 PSN 0x53e0dd OUT 0x10 RKey 0x182f00 VAddr 0x007f4870000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1433 PSN 0x3fc99b OUT 0x10 RKey 0x182f00 VAddr 0x007f4870800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1434 PSN 0x3f4ea3 OUT 0x10 RKey 0x182f00 VAddr 0x007f4871000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1435 PSN 0x19adfa OUT 0x10 RKey 0x182f00 VAddr 0x007f4871800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1436 PSN 0xbe9d5e OUT 0x10 RKey 0x182f00 VAddr 0x007f4872000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1437 PSN 0x7f5eb3 OUT 0x10 RKey 0x182f00 VAddr 0x007f4872800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1438 PSN 0xd3a8f5 OUT 0x10 RKey 0x182f00 VAddr 0x007f4873000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1439 PSN 0x10de15 OUT 0x10 RKey 0x182f00 VAddr 0x007f4873800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x142a PSN 0xbf97be OUT 0x10 RKey 0x183000 VAddr 0x007f88ee000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x142b PSN 0xd7b9d0 OUT 0x10 RKey 0x183000 VAddr 0x007f88ee800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x142c PSN 0xfc7eda OUT 0x10 RKey 0x183000 VAddr 0x007f88ef000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x142d PSN 0x987e21 OUT 0x10 RKey 0x183000 VAddr 0x007f88ef800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x142e PSN 0x1d1020 OUT 0x10 RKey 0x183000 VAddr 0x007f88f0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x142f PSN 0xf4f302 OUT 0x10 RKey 0x183000 VAddr 0x007f88f0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1430 PSN 0x610539 OUT 0x10 RKey 0x183000 VAddr 0x007f88f1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1431 PSN 0x51ab3e OUT 0x10 RKey 0x183000 VAddr 0x007f88f1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1432 PSN 0x96770a OUT 0x10 RKey 0x183000 VAddr 0x007f88f2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1433 PSN 0x228c4 OUT 0x10 RKey 0x183000 VAddr 0x007f88f2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1434 PSN 0x4ca918 OUT 0x10 RKey 0x183000 VAddr 0x007f88f3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1435 PSN 0xea4fcb OUT 0x10 RKey 0x183000 VAddr 0x007f88f3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1436 PSN 0xa1495b OUT 0x10 RKey 0x183000 VAddr 0x007f88f4000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1437 PSN 0xc3e76c OUT 0x10 RKey 0x183000 VAddr 0x007f88f4800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1438 PSN 0x6415ba OUT 0x10 RKey 0x183000 VAddr 0x007f88f5000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1439 PSN 0xe42bf6 OUT 0x10 RKey 0x183000 VAddr 0x007f88f5800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.081810            0.081658            5.103606
 4          16000            0.17               0.16   		     5.146663
 8          16000            0.33               0.33   		     5.179301
 16         16000            0.66               0.66   		     5.145186
 32         16000            1.32               1.32   		     5.145339
 64         16000            2.65               2.64   		     5.157730
 128        16000            5.28               5.26   		     5.140067
 256        16000            10.54              10.52  		     5.138293
 512        16000            21.19              21.12  		     5.157048
 1024       16000            42.08              41.90  		     5.114403
 2048       16000            66.18              65.79  		     4.015328
 4096       16000            167.18             166.38 		     5.077414
 8192       16000            189.53             189.48 		     2.891218
 16384      16000            197.13             197.08 		     1.503590
 32768      16000            197.33             197.32 		     0.752698
 65536      16000            191.04             177.46 		     0.338478
 131072     16000            190.42             187.60 		     0.178909
 262144     16000            197.35             197.34 		     0.094099
 524288     16000            194.80             194.80 		     0.046444
 1048576    16000            196.20             196.20 		     0.023389
 2097152    16000            184.18             184.18 		     0.010978
 4194304    16000            163.04             163.04 		     0.004859
 8388608    16000            163.21             163.21 		     0.002432
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f4864000000
destroying current CUDA Ctx
