initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 2
[pid = 22187, dev = 2] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f07d8000000 pointer=0x7f07d8000000
using DMA-BUF for GPU buffer address at 0x7f07d8000000 aligned at 0x7f07d8000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f07d8000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 5
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x0b4e PSN 0xb6f044 OUT 0x10 RKey 0x182f00 VAddr 0x007f07e0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0b4f PSN 0xaf4215 OUT 0x10 RKey 0x182f00 VAddr 0x007f07e0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0b50 PSN 0x550f05 OUT 0x10 RKey 0x182f00 VAddr 0x007f07e1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0b51 PSN 0x20f39 OUT 0x10 RKey 0x182f00 VAddr 0x007f07e1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0b52 PSN 0x1da8f OUT 0x10 RKey 0x182f00 VAddr 0x007f07e2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0b53 PSN 0x1c6b0f OUT 0x10 RKey 0x182f00 VAddr 0x007f07e2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0b54 PSN 0x905d8c OUT 0x10 RKey 0x182f00 VAddr 0x007f07e3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0b55 PSN 0xe2655f OUT 0x10 RKey 0x182f00 VAddr 0x007f07e3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0b56 PSN 0x64e9e1 OUT 0x10 RKey 0x182f00 VAddr 0x007f07e4000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0b57 PSN 0xd3c518 OUT 0x10 RKey 0x182f00 VAddr 0x007f07e4800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0b58 PSN 0xe62412 OUT 0x10 RKey 0x182f00 VAddr 0x007f07e5000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0b59 PSN 0xaebb74 OUT 0x10 RKey 0x182f00 VAddr 0x007f07e5800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0b5a PSN 0x52831a OUT 0x10 RKey 0x182f00 VAddr 0x007f07e6000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0b5b PSN 0xb8a488 OUT 0x10 RKey 0x182f00 VAddr 0x007f07e6800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0b5c PSN 0xc635dc OUT 0x10 RKey 0x182f00 VAddr 0x007f07e7000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0b5d PSN 0x58d9a6 OUT 0x10 RKey 0x182f00 VAddr 0x007f07e7800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0b4e PSN 0xed00b7 OUT 0x10 RKey 0x183000 VAddr 0x007f9dee000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0b4f PSN 0x921d5 OUT 0x10 RKey 0x183000 VAddr 0x007f9dee800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0b50 PSN 0x1646fb OUT 0x10 RKey 0x183000 VAddr 0x007f9def000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0b51 PSN 0xcc5a2e OUT 0x10 RKey 0x183000 VAddr 0x007f9def800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0b52 PSN 0xe16fa9 OUT 0x10 RKey 0x183000 VAddr 0x007f9df0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0b53 PSN 0xb2b657 OUT 0x10 RKey 0x183000 VAddr 0x007f9df0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0b54 PSN 0x78e6a OUT 0x10 RKey 0x183000 VAddr 0x007f9df1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0b55 PSN 0xa81b1b OUT 0x10 RKey 0x183000 VAddr 0x007f9df1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0b56 PSN 0xa0a623 OUT 0x10 RKey 0x183000 VAddr 0x007f9df2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0b57 PSN 0xb4ac69 OUT 0x10 RKey 0x183000 VAddr 0x007f9df2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0b58 PSN 0xb0f459 OUT 0x10 RKey 0x183000 VAddr 0x007f9df3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0b59 PSN 0x26c078 OUT 0x10 RKey 0x183000 VAddr 0x007f9df3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0b5a PSN 0x14b104 OUT 0x10 RKey 0x183000 VAddr 0x007f9df4000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0b5b PSN 0xd4e061 OUT 0x10 RKey 0x183000 VAddr 0x007f9df4800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0b5c PSN 0x26340b OUT 0x10 RKey 0x183000 VAddr 0x007f9df5000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0b5d PSN 0x73da73 OUT 0x10 RKey 0x183000 VAddr 0x007f9df5800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.080537            0.080226            5.014118
 4          16000            0.16               0.16   		     5.052866
 8          16000            0.33               0.33   		     5.094016
 16         16000            0.65               0.65   		     5.060169
 32         16000            1.31               1.30   		     5.087829
 64         16000            2.61               2.61   		     5.089852
 128        16000            5.21               5.20   		     5.081413
 256        16000            10.45              10.40  		     5.078453
 512        16000            20.85              20.75  		     5.065600
 1024       16000            41.80              41.60  		     5.078285
 2048       16000            81.56              80.82  		     4.933034
 4096       16000            165.31             162.98 		     4.973840
 8192       16000            192.50             192.30 		     2.934305
 16384      16000            204.66             204.55 		     1.560613
 32768      16000            205.08             205.07 		     0.782264
 65536      16000            206.12             206.09 		     0.393092
 131072     16000            208.95             208.95 		     0.199269
 262144     16000            209.21             209.21 		     0.099760
 524288     16000            209.03             209.03 		     0.049836
 1048576    16000            209.45             209.45 		     0.024969
 2097152    16000            194.39             194.29 		     0.011581
 4194304    16000            171.16             171.16 		     0.005101
 8388608    16000            171.12             171.12 		     0.002550
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f07d8000000
destroying current CUDA Ctx
