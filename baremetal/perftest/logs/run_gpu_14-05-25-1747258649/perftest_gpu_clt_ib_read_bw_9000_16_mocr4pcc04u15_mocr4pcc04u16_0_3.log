initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 3
[pid = 12219, dev = 3] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f74e6000000 pointer=0x7f74e6000000
using DMA-BUF for GPU buffer address at 0x7f74e6000000 aligned at 0x7f74e6000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f74e6000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x03ec PSN 0xc9d174 OUT 0x10 RKey 0x183000 VAddr 0x007f74ee000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x03ed PSN 0xd3d04e OUT 0x10 RKey 0x183000 VAddr 0x007f74ee800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x03ee PSN 0xaf4680 OUT 0x10 RKey 0x183000 VAddr 0x007f74ef000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x03ef PSN 0x1ea3cf OUT 0x10 RKey 0x183000 VAddr 0x007f74ef800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x03f0 PSN 0x7d6f36 OUT 0x10 RKey 0x183000 VAddr 0x007f74f0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x03f1 PSN 0xb33360 OUT 0x10 RKey 0x183000 VAddr 0x007f74f0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x03f2 PSN 0xdee13f OUT 0x10 RKey 0x183000 VAddr 0x007f74f1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x03f3 PSN 0x1dbdcc OUT 0x10 RKey 0x183000 VAddr 0x007f74f1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x03f4 PSN 0xdf180 OUT 0x10 RKey 0x183000 VAddr 0x007f74f2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x03f5 PSN 0xaf5102 OUT 0x10 RKey 0x183000 VAddr 0x007f74f2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x03f6 PSN 0x567f7e OUT 0x10 RKey 0x183000 VAddr 0x007f74f3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x03f7 PSN 0xc23d39 OUT 0x10 RKey 0x183000 VAddr 0x007f74f3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x03f8 PSN 0x4a3531 OUT 0x10 RKey 0x183000 VAddr 0x007f74f4000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x03f9 PSN 0xda958a OUT 0x10 RKey 0x183000 VAddr 0x007f74f4800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x03fa PSN 0x232c80 OUT 0x10 RKey 0x183000 VAddr 0x007f74f5000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x03fb PSN 0x3ec244 OUT 0x10 RKey 0x183000 VAddr 0x007f74f5800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x03ec PSN 0x7bcec6 OUT 0x10 RKey 0x182f00 VAddr 0x007fdd10000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x03ed PSN 0xcc5838 OUT 0x10 RKey 0x182f00 VAddr 0x007fdd10800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x03ee PSN 0x556122 OUT 0x10 RKey 0x182f00 VAddr 0x007fdd11000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x03ef PSN 0x1d86c9 OUT 0x10 RKey 0x182f00 VAddr 0x007fdd11800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x03f0 PSN 0x68afa8 OUT 0x10 RKey 0x182f00 VAddr 0x007fdd12000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x03f1 PSN 0xdc0fea OUT 0x10 RKey 0x182f00 VAddr 0x007fdd12800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x03f2 PSN 0xa0c401 OUT 0x10 RKey 0x182f00 VAddr 0x007fdd13000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x03f3 PSN 0x3d9666 OUT 0x10 RKey 0x182f00 VAddr 0x007fdd13800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x03f4 PSN 0x2f8712 OUT 0x10 RKey 0x182f00 VAddr 0x007fdd14000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x03f5 PSN 0xf52c2c OUT 0x10 RKey 0x182f00 VAddr 0x007fdd14800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x03f6 PSN 0xb48c60 OUT 0x10 RKey 0x182f00 VAddr 0x007fdd15000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x03f7 PSN 0xb8c573 OUT 0x10 RKey 0x182f00 VAddr 0x007fdd15800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x03f8 PSN 0x1e51e3 OUT 0x10 RKey 0x182f00 VAddr 0x007fdd16000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x03f9 PSN 0xab954 OUT 0x10 RKey 0x182f00 VAddr 0x007fdd16800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x03fa PSN 0x1e582 OUT 0x10 RKey 0x182f00 VAddr 0x007fdd17000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x03fb PSN 0x23541e OUT 0x10 RKey 0x182f00 VAddr 0x007fdd17800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.081264            0.080841            5.052578
 4          16000            0.17               0.16   		     5.133503
 8          16000            0.33               0.33   		     5.149563
 16         16000            0.66               0.66   		     5.153211
 32         16000            1.32               1.31   		     5.120655
 64         16000            2.64               2.63   		     5.136420
 128        16000            5.24               5.22   		     5.098724
 256        16000            10.57              10.52  		     5.138993
 512        16000            21.14              21.05  		     5.138762
 1024       16000            41.99              41.82  		     5.104726
 2048       16000            82.65              82.10  		     5.010993
 4096       16000            167.94             167.72 		     5.118400
 8192       16000            207.68             207.57 		     3.167244
 16384      16000            208.86             208.82 		     1.593202
 32768      16000            209.23             209.17 		     0.797916
 65536      16000            209.31             209.29 		     0.399193
 131072     16000            209.34             209.33 		     0.199632
 262144     16000            209.39             209.38 		     0.099842
 524288     16000            209.44             209.43 		     0.049933
 1048576    16000            209.45             209.45 		     0.024968
 2097152    16000            192.54             192.46 		     0.011472
 4194304    16000            171.02             171.02 		     0.005097
 8388608    16000            170.96             170.96 		     0.002547
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f74e6000000
destroying current CUDA Ctx
