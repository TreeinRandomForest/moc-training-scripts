initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 3
[pid = 14914, dev = 3] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 134217728 bytes GPU buffer
allocated GPU buffer address at 00007f3314000000 pointer=0x7f3314000000
using DMA-BUF for GPU buffer address at 0x7f3314000000 aligned at 0x7f3314000000 with aligned size 134217728
Calling ibv_reg_dmabuf_mr(offset=0, size=134217728, addr=0x7f3314000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 8		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x05dc PSN 0xd4a0b5 OUT 0x10 RKey 0x182f00 VAddr 0x007f3318000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05dd PSN 0x8e74fb OUT 0x10 RKey 0x182f00 VAddr 0x007f3318800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05de PSN 0x96d229 OUT 0x10 RKey 0x182f00 VAddr 0x007f3319000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05df PSN 0xfaf0c4 OUT 0x10 RKey 0x182f00 VAddr 0x007f3319800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05e0 PSN 0x4a5187 OUT 0x10 RKey 0x182f00 VAddr 0x007f331a000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05e1 PSN 0xf055dd OUT 0x10 RKey 0x182f00 VAddr 0x007f331a800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05e2 PSN 0x1ede78 OUT 0x10 RKey 0x182f00 VAddr 0x007f331b000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05e3 PSN 0x69c511 OUT 0x10 RKey 0x182f00 VAddr 0x007f331b800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x05dc PSN 0x90b872 OUT 0x10 RKey 0x182f00 VAddr 0x007f9054000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05dd PSN 0xaad1ab OUT 0x10 RKey 0x182f00 VAddr 0x007f9054800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05de PSN 0xb9f5e3 OUT 0x10 RKey 0x182f00 VAddr 0x007f9055000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05df PSN 0xbcfbf OUT 0x10 RKey 0x182f00 VAddr 0x007f9055800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05e0 PSN 0xa9379d OUT 0x10 RKey 0x182f00 VAddr 0x007f9056000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05e1 PSN 0xe19e05 OUT 0x10 RKey 0x182f00 VAddr 0x007f9056800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05e2 PSN 0x18144a OUT 0x10 RKey 0x182f00 VAddr 0x007f9057000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05e3 PSN 0x1e845 OUT 0x10 RKey 0x182f00 VAddr 0x007f9057800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          8000           0.081813            0.081423            5.088910
 4          8000             0.17               0.17   		     5.183799
 8          8000             0.33               0.33   		     5.198248
 16         8000             0.67               0.67   		     5.197910
 32         8000             1.33               1.32   		     5.166690
 64         8000             2.67               2.66   		     5.194502
 128        8000             5.31               5.25   		     5.125216
 256        8000             10.64              10.57  		     5.160025
 512        8000             21.09              21.01  		     5.130607
 1024       8000             42.18              41.94  		     5.119869
 2048       8000             83.59              83.51  		     5.096807
 4096       8000             163.12             161.39 		     4.925228
 8192       8000             200.08             199.83 		     3.049117
 16384      8000             201.86             201.85 		     1.539981
 32768      8000             202.62             202.59 		     0.772836
 65536      8000             202.79             202.78 		     0.386779
 131072     8000             202.90             202.90 		     0.193498
 262144     8000             202.93             202.92 		     0.096762
 524288     8000             202.95             202.94 		     0.048386
 1048576    8000             202.97             202.97 		     0.024195
 2097152    8000             203.01             203.01 		     0.012100
 4194304    8000             198.52             198.52 		     0.005916
 8388608    8000             169.94             169.94 		     0.002532
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f3314000000
destroying current CUDA Ctx
