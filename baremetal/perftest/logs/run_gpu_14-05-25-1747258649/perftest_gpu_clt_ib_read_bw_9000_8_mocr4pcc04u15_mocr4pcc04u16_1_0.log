initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 0
[pid = 12848, dev = 0] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 134217728 bytes GPU buffer
allocated GPU buffer address at 00007f2836000000 pointer=0x7f2836000000
using DMA-BUF for GPU buffer address at 0x7f2836000000 aligned at 0x7f2836000000 with aligned size 134217728
Calling ibv_reg_dmabuf_mr(offset=0, size=134217728, addr=0x7f2836000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 8		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x0462 PSN 0xb4d0f6 OUT 0x10 RKey 0x182f00 VAddr 0x007f283a000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0463 PSN 0x4966a8 OUT 0x10 RKey 0x182f00 VAddr 0x007f283a800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0464 PSN 0xcd26d2 OUT 0x10 RKey 0x182f00 VAddr 0x007f283b000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0465 PSN 0xf8d2b9 OUT 0x10 RKey 0x182f00 VAddr 0x007f283b800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0466 PSN 0x41a4d8 OUT 0x10 RKey 0x182f00 VAddr 0x007f283c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0467 PSN 0xc5955a OUT 0x10 RKey 0x182f00 VAddr 0x007f283c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0468 PSN 0x3134b1 OUT 0x10 RKey 0x182f00 VAddr 0x007f283d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0469 PSN 0x3bb156 OUT 0x10 RKey 0x182f00 VAddr 0x007f283d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0462 PSN 0x687e7f OUT 0x10 RKey 0x182f00 VAddr 0x007fb580000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0463 PSN 0xff5ffd OUT 0x10 RKey 0x182f00 VAddr 0x007fb580800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0464 PSN 0xa6ae03 OUT 0x10 RKey 0x182f00 VAddr 0x007fb581000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0465 PSN 0x396896 OUT 0x10 RKey 0x182f00 VAddr 0x007fb581800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0466 PSN 0x2201f1 OUT 0x10 RKey 0x182f00 VAddr 0x007fb582000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0467 PSN 0xfdaeff OUT 0x10 RKey 0x182f00 VAddr 0x007fb582800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0468 PSN 0x3a5df2 OUT 0x10 RKey 0x182f00 VAddr 0x007fb583000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0469 PSN 0x1ea803 OUT 0x10 RKey 0x182f00 VAddr 0x007fb583800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          8000           0.077253            0.076890            4.805642
 4          8000             0.16               0.16   		     4.912708
 8          8000             0.32               0.31   		     4.894732
 16         8000             0.63               0.63   		     4.916179
 32         8000             1.27               1.25   		     4.900159
 64         8000             2.52               2.51   		     4.900490
 128        8000             5.01               5.00   		     4.886570
 256        8000             10.02              9.95   		     4.856521
 512        8000             19.99              19.94  		     4.867720
 1024       8000             40.33              39.95  		     4.876859
 2048       8000             79.79              79.55  		     4.855312
 4096       8000             156.20             155.00 		     4.730089
 8192       8000             199.80             199.61 		     3.045843
 16384      8000             202.27             202.14 		     1.542207
 32768      8000             202.62             202.58 		     0.772768
 65536      8000             202.83             202.82 		     0.386842
 131072     8000             202.88             202.88 		     0.193481
 262144     8000             202.88             202.87 		     0.096738
 524288     8000             202.96             202.96 		     0.048388
 1048576    8000             202.95             202.95 		     0.024194
 2097152    8000             202.93             202.93 		     0.012095
 4194304    8000             197.78             197.77 		     0.005894
 8388608    8000             169.96             169.96 		     0.002533
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f2836000000
destroying current CUDA Ctx
