initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 1
[pid = 30139, dev = 1] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f50f4000000 pointer=0x7f50f4000000
using DMA-BUF for GPU buffer address at 0x7f50f4000000 aligned at 0x7f50f4000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f50f4000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 5
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x10b8 PSN 0x2ff0cd OUT 0x10 RKey 0x182f00 VAddr 0x007f50fc000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x10b9 PSN 0xfb926a OUT 0x10 RKey 0x182f00 VAddr 0x007f50fc800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x10ba PSN 0x5ba136 OUT 0x10 RKey 0x182f00 VAddr 0x007f50fd000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x10bb PSN 0x525416 OUT 0x10 RKey 0x182f00 VAddr 0x007f50fd800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x10bc PSN 0xc9baa8 OUT 0x10 RKey 0x182f00 VAddr 0x007f50fe000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x10bd PSN 0x994bb4 OUT 0x10 RKey 0x182f00 VAddr 0x007f50fe800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x10be PSN 0xac41cd OUT 0x10 RKey 0x182f00 VAddr 0x007f50ff000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x10bf PSN 0xc0fb0c OUT 0x10 RKey 0x182f00 VAddr 0x007f50ff800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x10c0 PSN 0x20128a OUT 0x10 RKey 0x182f00 VAddr 0x007f5100000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x10c1 PSN 0xd7eb0d OUT 0x10 RKey 0x182f00 VAddr 0x007f5100800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x10c2 PSN 0xa06b63 OUT 0x10 RKey 0x182f00 VAddr 0x007f5101000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x10c3 PSN 0xbddef1 OUT 0x10 RKey 0x182f00 VAddr 0x007f5101800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x10c4 PSN 0xe2ed53 OUT 0x10 RKey 0x182f00 VAddr 0x007f5102000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x10c5 PSN 0x3114cd OUT 0x10 RKey 0x182f00 VAddr 0x007f5102800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x10c6 PSN 0x88013d OUT 0x10 RKey 0x182f00 VAddr 0x007f5103000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x10c7 PSN 0x197f3 OUT 0x10 RKey 0x182f00 VAddr 0x007f5103800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x10b8 PSN 0xf0e8d8 OUT 0x10 RKey 0x183000 VAddr 0x007f41ca000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x10b9 PSN 0x231119 OUT 0x10 RKey 0x183000 VAddr 0x007f41ca800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x10ba PSN 0x51cbb9 OUT 0x10 RKey 0x183000 VAddr 0x007f41cb000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x10bb PSN 0x181fdd OUT 0x10 RKey 0x183000 VAddr 0x007f41cb800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x10bc PSN 0x8a4863 OUT 0x10 RKey 0x183000 VAddr 0x007f41cc000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x10bd PSN 0x4fa653 OUT 0x10 RKey 0x183000 VAddr 0x007f41cc800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x10be PSN 0x4fb180 OUT 0x10 RKey 0x183000 VAddr 0x007f41cd000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x10bf PSN 0xb65c43 OUT 0x10 RKey 0x183000 VAddr 0x007f41cd800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x10c0 PSN 0xa5e0f5 OUT 0x10 RKey 0x183000 VAddr 0x007f41ce000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x10c1 PSN 0xe8f09c OUT 0x10 RKey 0x183000 VAddr 0x007f41ce800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x10c2 PSN 0xb24346 OUT 0x10 RKey 0x183000 VAddr 0x007f41cf000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x10c3 PSN 0x90bc98 OUT 0x10 RKey 0x183000 VAddr 0x007f41cf800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x10c4 PSN 0xc3576e OUT 0x10 RKey 0x183000 VAddr 0x007f41d0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x10c5 PSN 0xf6844c OUT 0x10 RKey 0x183000 VAddr 0x007f41d0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x10c6 PSN 0xd89450 OUT 0x10 RKey 0x183000 VAddr 0x007f41d1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x10c7 PSN 0xf7490a OUT 0x10 RKey 0x183000 VAddr 0x007f41d1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.081448            0.080383            5.023958
 4          16000            0.17               0.17   		     5.158744
 8          16000            0.33               0.33   		     5.121379
 16         16000            0.66               0.65   		     5.100495
 32         16000            1.31               1.30   		     5.090483
 64         16000            2.62               2.60   		     5.083514
 128        16000            5.26               5.23   		     5.109748
 256        16000            10.54              10.49  		     5.123377
 512        16000            21.19              21.01  		     5.128830
 1024       16000            42.87              42.67  		     5.209266
 2048       16000            87.77              86.49  		     5.278786
 4096       16000            96.88              70.68  		     2.156857
 8192       16000            182.95             103.54 		     1.579925
 16384      16000            185.25             150.06 		     1.144855
 32768      16000            193.64             193.58 		     0.738450
 65536      16000            196.64             196.62 		     0.375028
 131072     16000            197.46             197.44 		     0.188295
 262144     16000            197.55             197.54 		     0.094194
 524288     16000            194.83             194.83 		     0.046450
 1048576    16000            196.21             196.21 		     0.023390
 2097152    16000            185.21             185.10 		     0.011033
 4194304    16000            163.25             163.25 		     0.004865
 8388608    16000            163.17             163.17 		     0.002431
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f50f4000000
destroying current CUDA Ctx
