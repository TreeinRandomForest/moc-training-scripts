initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 3
[pid = 31493, dev = 3] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007ff006000000 pointer=0x7ff006000000
using DMA-BUF for GPU buffer address at 0x7ff006000000 aligned at 0x7ff006000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7ff006000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 5
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x14a8 PSN 0x14e327 OUT 0x10 RKey 0x182f00 VAddr 0x007ff00e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x14a9 PSN 0x2b9ebc OUT 0x10 RKey 0x182f00 VAddr 0x007ff00e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x14aa PSN 0x7a8c20 OUT 0x10 RKey 0x182f00 VAddr 0x007ff00f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x14ab PSN 0x4295b8 OUT 0x10 RKey 0x182f00 VAddr 0x007ff00f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x14ac PSN 0x6538a2 OUT 0x10 RKey 0x182f00 VAddr 0x007ff010000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x14ad PSN 0x748b26 OUT 0x10 RKey 0x182f00 VAddr 0x007ff010800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x14ae PSN 0x1eb157 OUT 0x10 RKey 0x182f00 VAddr 0x007ff011000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x14af PSN 0xe874ce OUT 0x10 RKey 0x182f00 VAddr 0x007ff011800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x14b0 PSN 0x2b3624 OUT 0x10 RKey 0x182f00 VAddr 0x007ff012000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x14b1 PSN 0x8a6f9f OUT 0x10 RKey 0x182f00 VAddr 0x007ff012800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x14b2 PSN 0x56098d OUT 0x10 RKey 0x182f00 VAddr 0x007ff013000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x14b3 PSN 0xe3f2d3 OUT 0x10 RKey 0x182f00 VAddr 0x007ff013800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x14b4 PSN 0x4e708d OUT 0x10 RKey 0x182f00 VAddr 0x007ff014000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x14b5 PSN 0x56107f OUT 0x10 RKey 0x182f00 VAddr 0x007ff014800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x14b6 PSN 0x811807 OUT 0x10 RKey 0x182f00 VAddr 0x007ff015000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x14b7 PSN 0xc1c7f5 OUT 0x10 RKey 0x182f00 VAddr 0x007ff015800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x14a8 PSN 0xc45d80 OUT 0x10 RKey 0x183000 VAddr 0x007fd330000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x14a9 PSN 0x64396a OUT 0x10 RKey 0x183000 VAddr 0x007fd330800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x14aa PSN 0x6b2f6c OUT 0x10 RKey 0x183000 VAddr 0x007fd331000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x14ab PSN 0xf4d84b OUT 0x10 RKey 0x183000 VAddr 0x007fd331800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x14ac PSN 0x293002 OUT 0x10 RKey 0x183000 VAddr 0x007fd332000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x14ad PSN 0x1b923c OUT 0x10 RKey 0x183000 VAddr 0x007fd332800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x14ae PSN 0x58eceb OUT 0x10 RKey 0x183000 VAddr 0x007fd333000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x14af PSN 0x213e08 OUT 0x10 RKey 0x183000 VAddr 0x007fd333800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x14b0 PSN 0x11730c OUT 0x10 RKey 0x183000 VAddr 0x007fd334000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x14b1 PSN 0xa1419e OUT 0x10 RKey 0x183000 VAddr 0x007fd334800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x14b2 PSN 0x5619ea OUT 0x10 RKey 0x183000 VAddr 0x007fd335000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x14b3 PSN 0xe40535 OUT 0x10 RKey 0x183000 VAddr 0x007fd335800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x14b4 PSN 0xa8c37d OUT 0x10 RKey 0x183000 VAddr 0x007fd336000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x14b5 PSN 0x573e6 OUT 0x10 RKey 0x183000 VAddr 0x007fd336800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x14b6 PSN 0xfa81ac OUT 0x10 RKey 0x183000 VAddr 0x007fd337000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x14b7 PSN 0x38e00 OUT 0x10 RKey 0x183000 VAddr 0x007fd337800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.082374            0.081956            5.122225
 4          16000            0.17               0.17   		     5.182193
 8          16000            0.33               0.33   		     5.188449
 16         16000            0.67               0.67   		     5.229015
 32         16000            1.33               1.33   		     5.178014
 64         16000            2.65               2.65   		     5.170224
 128        16000            5.33               5.30   		     5.175310
 256        16000            10.67              10.64  		     5.196238
 512        16000            21.33              21.26  		     5.189993
 1024       16000            42.66              42.43  		     5.179149
 2048       16000            66.06              65.90  		     4.022171
 4096       16000            69.36              69.32  		     2.115448
 8192       16000            182.94             102.48 		     1.563776
 16384      16000            193.38             193.35 		     1.475149
 32768      16000            188.86             170.07 		     0.648761
 65536      16000            197.39             197.38 		     0.376467
 131072     16000            191.19             186.87 		     0.178216
 262144     16000            197.04             197.04 		     0.093956
 524288     16000            197.51             197.50 		     0.047089
 1048576    16000            196.19             196.19 		     0.023387
 2097152    16000            185.06             185.06 		     0.011031
 4194304    16000            163.06             163.06 		     0.004860
 8388608    16000            163.15             163.15 		     0.002431
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007ff006000000
destroying current CUDA Ctx
