initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 0
[pid = 18915, dev = 0] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f719e000000 pointer=0x7f719e000000
using DMA-BUF for GPU buffer address at 0x7f719e000000 aligned at 0x7f719e000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f719e000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x085a PSN 0xcef526 OUT 0x10 RKey 0x183000 VAddr 0x007f71a6000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x085b PSN 0x2def18 OUT 0x10 RKey 0x183000 VAddr 0x007f71a6800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x085c PSN 0xefde82 OUT 0x10 RKey 0x183000 VAddr 0x007f71a7000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x085d PSN 0x928a9 OUT 0x10 RKey 0x183000 VAddr 0x007f71a7800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x085e PSN 0xabdc08 OUT 0x10 RKey 0x183000 VAddr 0x007f71a8000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x085f PSN 0xd434ca OUT 0x10 RKey 0x183000 VAddr 0x007f71a8800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0860 PSN 0xe9b761 OUT 0x10 RKey 0x183000 VAddr 0x007f71a9000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0861 PSN 0x757646 OUT 0x10 RKey 0x183000 VAddr 0x007f71a9800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0862 PSN 0x9d1972 OUT 0x10 RKey 0x183000 VAddr 0x007f71aa000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0863 PSN 0x9ebf0c OUT 0x10 RKey 0x183000 VAddr 0x007f71aa800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0864 PSN 0x5d55c0 OUT 0x10 RKey 0x183000 VAddr 0x007f71ab000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0865 PSN 0x2c353 OUT 0x10 RKey 0x183000 VAddr 0x007f71ab800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0866 PSN 0x36aa43 OUT 0x10 RKey 0x183000 VAddr 0x007f71ac000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0867 PSN 0x4e9a34 OUT 0x10 RKey 0x183000 VAddr 0x007f71ac800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0868 PSN 0x71e4e2 OUT 0x10 RKey 0x183000 VAddr 0x007f71ad000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0869 PSN 0xc34ffe OUT 0x10 RKey 0x183000 VAddr 0x007f71ad800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x085a PSN 0xa9d4a6 OUT 0x10 RKey 0x182f00 VAddr 0x007f7cde000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x085b PSN 0x2c1898 OUT 0x10 RKey 0x182f00 VAddr 0x007f7cde800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x085c PSN 0x708a02 OUT 0x10 RKey 0x182f00 VAddr 0x007f7cdf000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x085d PSN 0xe72e29 OUT 0x10 RKey 0x182f00 VAddr 0x007f7cdf800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x085e PSN 0x253388 OUT 0x10 RKey 0x182f00 VAddr 0x007f7ce0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x085f PSN 0x1b764a OUT 0x10 RKey 0x182f00 VAddr 0x007f7ce0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0860 PSN 0x199ae1 OUT 0x10 RKey 0x182f00 VAddr 0x007f7ce1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0861 PSN 0x3e53c6 OUT 0x10 RKey 0x182f00 VAddr 0x007f7ce1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0862 PSN 0x2468f2 OUT 0x10 RKey 0x182f00 VAddr 0x007f7ce2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0863 PSN 0xa8988c OUT 0x10 RKey 0x182f00 VAddr 0x007f7ce2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0864 PSN 0xf7f140 OUT 0x10 RKey 0x182f00 VAddr 0x007f7ce3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0865 PSN 0x8bf8d3 OUT 0x10 RKey 0x182f00 VAddr 0x007f7ce3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0866 PSN 0xb371c3 OUT 0x10 RKey 0x182f00 VAddr 0x007f7ce4000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0867 PSN 0xac8bb4 OUT 0x10 RKey 0x182f00 VAddr 0x007f7ce4800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0868 PSN 0x6ab862 OUT 0x10 RKey 0x182f00 VAddr 0x007f7ce5000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0869 PSN 0xba5d7e OUT 0x10 RKey 0x182f00 VAddr 0x007f7ce5800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.080000            0.079730            4.983104
 4          16000            0.16               0.16   		     5.079946
 8          16000            0.33               0.32   		     5.068343
 16         16000            0.65               0.65   		     5.051175
 32         16000            1.30               1.29   		     5.043181
 64         16000            2.58               2.58   		     5.031335
 128        16000            5.19               5.17   		     5.051781
 256        16000            10.38              10.33  		     5.046220
 512        16000            20.80              20.72  		     5.058409
 1024       16000            41.42              41.22  		     5.031573
 2048       16000            82.29              82.26  		     5.020458
 4096       16000            164.20             164.16 		     5.009644
 8192       16000            196.09             195.86 		     2.988621
 16384      16000            197.00             196.93 		     1.502490
 32768      16000            197.40             197.39 		     0.753001
 65536      16000            197.46             197.46 		     0.376630
 131072     16000            197.50             197.49 		     0.188338
 262144     16000            197.57             197.57 		     0.094207
 524288     16000            197.59             197.59 		     0.047109
 1048576    16000            197.56             197.56 		     0.023551
 2097152    16000            185.07             185.07 		     0.011031
 4194304    16000            163.45             163.45 		     0.004871
 8388608    16000            163.46             163.46 		     0.002436
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f719e000000
destroying current CUDA Ctx
