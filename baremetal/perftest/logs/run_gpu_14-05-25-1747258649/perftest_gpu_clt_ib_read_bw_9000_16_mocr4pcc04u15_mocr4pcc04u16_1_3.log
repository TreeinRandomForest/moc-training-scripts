initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 3
[pid = 14971, dev = 3] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f16de000000 pointer=0x7f16de000000
using DMA-BUF for GPU buffer address at 0x7f16de000000 aligned at 0x7f16de000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f16de000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x05e4 PSN 0xf5c020 OUT 0x10 RKey 0x183000 VAddr 0x007f16e6000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05e5 PSN 0xfd6ac1 OUT 0x10 RKey 0x183000 VAddr 0x007f16e6800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05e6 PSN 0xb6e841 OUT 0x10 RKey 0x183000 VAddr 0x007f16e7000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05e7 PSN 0x2775c5 OUT 0x10 RKey 0x183000 VAddr 0x007f16e7800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05e8 PSN 0x204c2b OUT 0x10 RKey 0x183000 VAddr 0x007f16e8000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05e9 PSN 0xf4f27b OUT 0x10 RKey 0x183000 VAddr 0x007f16e8800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05ea PSN 0xfd0e88 OUT 0x10 RKey 0x183000 VAddr 0x007f16e9000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05eb PSN 0x7c28ab OUT 0x10 RKey 0x183000 VAddr 0x007f16e9800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05ec PSN 0x63593d OUT 0x10 RKey 0x183000 VAddr 0x007f16ea000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05ed PSN 0x5d744 OUT 0x10 RKey 0x183000 VAddr 0x007f16ea800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05ee PSN 0x1b68ce OUT 0x10 RKey 0x183000 VAddr 0x007f16eb000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05ef PSN 0x6de780 OUT 0x10 RKey 0x183000 VAddr 0x007f16eb800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05f0 PSN 0x5b0c36 OUT 0x10 RKey 0x183000 VAddr 0x007f16ec000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05f1 PSN 0x5a2d74 OUT 0x10 RKey 0x183000 VAddr 0x007f16ec800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05f2 PSN 0x218a58 OUT 0x10 RKey 0x183000 VAddr 0x007f16ed000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x05f3 PSN 0x733a72 OUT 0x10 RKey 0x183000 VAddr 0x007f16ed800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x05e4 PSN 0x5b5819 OUT 0x10 RKey 0x182f00 VAddr 0x007f009c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05e5 PSN 0x54d5c6 OUT 0x10 RKey 0x182f00 VAddr 0x007f009c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05e6 PSN 0xb1f762 OUT 0x10 RKey 0x182f00 VAddr 0x007f009d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05e7 PSN 0x108cd2 OUT 0x10 RKey 0x182f00 VAddr 0x007f009d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05e8 PSN 0x10cab4 OUT 0x10 RKey 0x182f00 VAddr 0x007f009e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05e9 PSN 0x55e8d0 OUT 0x10 RKey 0x182f00 VAddr 0x007f009e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05ea PSN 0xf24eb9 OUT 0x10 RKey 0x182f00 VAddr 0x007f009f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05eb PSN 0xc08388 OUT 0x10 RKey 0x182f00 VAddr 0x007f009f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05ec PSN 0xdc9756 OUT 0x10 RKey 0x182f00 VAddr 0x007f00a0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05ed PSN 0x7bbde9 OUT 0x10 RKey 0x182f00 VAddr 0x007f00a0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05ee PSN 0xa2db0f OUT 0x10 RKey 0x182f00 VAddr 0x007f00a1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05ef PSN 0xabf32d OUT 0x10 RKey 0x182f00 VAddr 0x007f00a1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05f0 PSN 0xbf72df OUT 0x10 RKey 0x182f00 VAddr 0x007f00a2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05f1 PSN 0x21b969 OUT 0x10 RKey 0x182f00 VAddr 0x007f00a2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05f2 PSN 0xb23fa9 OUT 0x10 RKey 0x182f00 VAddr 0x007f00a3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x05f3 PSN 0xa333ef OUT 0x10 RKey 0x182f00 VAddr 0x007f00a3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.080717            0.080382            5.023848
 4          16000            0.16               0.16   		     5.116791
 8          16000            0.33               0.33   		     5.116365
 16         16000            0.66               0.66   		     5.119705
 32         16000            1.32               1.31   		     5.117282
 64         16000            2.62               2.62   		     5.110302
 128        16000            5.24               5.22   		     5.101374
 256        16000            10.43              10.39  		     5.074886
 512        16000            21.04              20.92  		     5.107954
 1024       16000            41.99              41.79  		     5.101406
 2048       16000            83.59              83.24  		     5.080287
 4096       16000            166.81             166.50 		     5.081284
 8192       16000            201.44             201.17 		     3.069674
 16384      16000            202.41             202.37 		     1.543937
 32768      16000            202.76             202.71 		     0.773277
 65536      16000            202.79             202.78 		     0.386781
 131072     16000            202.85             202.84 		     0.193445
 262144     16000            202.93             202.93 		     0.096764
 524288     16000            202.93             202.92 		     0.048381
 1048576    16000            202.93             202.93 		     0.024191
 2097152    16000            189.65             189.65 		     0.011304
 4194304    16000            169.96             169.96 		     0.005065
 8388608    16000            169.94             169.94 		     0.002532
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f16de000000
destroying current CUDA Ctx
