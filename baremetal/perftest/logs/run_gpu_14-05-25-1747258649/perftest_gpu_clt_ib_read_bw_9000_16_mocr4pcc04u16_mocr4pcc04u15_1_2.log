initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 2
[pid = 25144, dev = 2] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f2298000000 pointer=0x7f2298000000
using DMA-BUF for GPU buffer address at 0x7f2298000000 aligned at 0x7f2298000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f2298000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 5
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x0d46 PSN 0xb39066 OUT 0x10 RKey 0x182f00 VAddr 0x007f22a0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d47 PSN 0xff8958 OUT 0x10 RKey 0x182f00 VAddr 0x007f22a0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d48 PSN 0xc40bc2 OUT 0x10 RKey 0x182f00 VAddr 0x007f22a1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d49 PSN 0x7ece9 OUT 0x10 RKey 0x182f00 VAddr 0x007f22a1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d4a PSN 0x76eb48 OUT 0x10 RKey 0x182f00 VAddr 0x007f22a2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d4b PSN 0xfd330a OUT 0x10 RKey 0x182f00 VAddr 0x007f22a2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d4c PSN 0xcb78a1 OUT 0x10 RKey 0x182f00 VAddr 0x007f22a3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d4d PSN 0x343e86 OUT 0x10 RKey 0x182f00 VAddr 0x007f22a3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d4e PSN 0xc1dcb2 OUT 0x10 RKey 0x182f00 VAddr 0x007f22a4000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d4f PSN 0xb1614c OUT 0x10 RKey 0x182f00 VAddr 0x007f22a4800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d50 PSN 0x11eb00 OUT 0x10 RKey 0x182f00 VAddr 0x007f22a5000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d51 PSN 0xfdcf93 OUT 0x10 RKey 0x182f00 VAddr 0x007f22a5800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d52 PSN 0x1c6183 OUT 0x10 RKey 0x182f00 VAddr 0x007f22a6000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d53 PSN 0xc12074 OUT 0x10 RKey 0x182f00 VAddr 0x007f22a6800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d54 PSN 0xd28e22 OUT 0x10 RKey 0x182f00 VAddr 0x007f22a7000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0d55 PSN 0xfae03e OUT 0x10 RKey 0x182f00 VAddr 0x007f22a7800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0d46 PSN 0x8b89db OUT 0x10 RKey 0x183000 VAddr 0x007ff4e0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d47 PSN 0xefde29 OUT 0x10 RKey 0x183000 VAddr 0x007ff4e0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d48 PSN 0xf7eebf OUT 0x10 RKey 0x183000 VAddr 0x007ff4e1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d49 PSN 0x4ae0a2 OUT 0x10 RKey 0x183000 VAddr 0x007ff4e1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d4a PSN 0x7ce70d OUT 0x10 RKey 0x183000 VAddr 0x007ff4e2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d4b PSN 0x5863eb OUT 0x10 RKey 0x183000 VAddr 0x007ff4e2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d4c PSN 0xf56e6e OUT 0x10 RKey 0x183000 VAddr 0x007ff4e3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d4d PSN 0xe414cf OUT 0x10 RKey 0x183000 VAddr 0x007ff4e3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d4e PSN 0x71afc7 OUT 0x10 RKey 0x183000 VAddr 0x007ff4e4000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d4f PSN 0x8f1f3d OUT 0x10 RKey 0x183000 VAddr 0x007ff4e4800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d50 PSN 0x4e509d OUT 0x10 RKey 0x183000 VAddr 0x007ff4e5000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d51 PSN 0xbc216c OUT 0x10 RKey 0x183000 VAddr 0x007ff4e5800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d52 PSN 0xba30e8 OUT 0x10 RKey 0x183000 VAddr 0x007ff4e6000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d53 PSN 0x632c75 OUT 0x10 RKey 0x183000 VAddr 0x007ff4e6800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d54 PSN 0x86908f OUT 0x10 RKey 0x183000 VAddr 0x007ff4e7000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0d55 PSN 0x49d6a7 OUT 0x10 RKey 0x183000 VAddr 0x007ff4e7800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.080537            0.079979            4.998688
 4          16000            0.16               0.16   		     5.054446
 8          16000            0.33               0.33   		     5.083044
 16         16000            0.65               0.65   		     5.089657
 32         16000            1.31               1.30   		     5.066513
 64         16000            2.60               2.59   		     5.061930
 128        16000            5.21               5.19   		     5.071219
 256        16000            10.43              10.39  		     5.072184
 512        16000            20.85              20.72  		     5.057513
 1024       16000            41.70              41.54  		     5.071219
 2048       16000            81.38              80.47  		     4.911214
 4096       16000            164.94             164.74 		     5.027478
 8192       16000            199.80             199.60 		     3.045652
 16384      16000            200.62             200.61 		     1.530518
 32768      16000            193.95             193.41 		     0.737809
 65536      16000            201.10             201.10 		     0.383563
 131072     16000            200.16             200.15 		     0.190875
 262144     16000            199.36             199.35 		     0.095060
 524288     16000            199.66             199.65 		     0.047601
 1048576    16000            199.85             199.85 		     0.023823
 2097152    16000            191.16             189.43 		     0.011291
 4194304    16000            167.08             167.08 		     0.004979
 8388608    16000            166.87             166.52 		     0.002481
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f2298000000
destroying current CUDA Ctx
