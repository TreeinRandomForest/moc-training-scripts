initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 0
[pid = 15657, dev = 0] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f56f8000000 pointer=0x7f56f8000000
using DMA-BUF for GPU buffer address at 0x7f56f8000000 aligned at 0x7f56f8000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f56f8000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x0662 PSN 0x18c3ad OUT 0x10 RKey 0x183000 VAddr 0x007f5700000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0663 PSN 0x9c2893 OUT 0x10 RKey 0x183000 VAddr 0x007f5700800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0664 PSN 0xe6d9e1 OUT 0x10 RKey 0x183000 VAddr 0x007f5701000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0665 PSN 0x9d8a1c OUT 0x10 RKey 0x183000 VAddr 0x007f5701800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0666 PSN 0x6aabff OUT 0x10 RKey 0x183000 VAddr 0x007f5702000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0667 PSN 0x9eaaf5 OUT 0x10 RKey 0x183000 VAddr 0x007f5702800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0668 PSN 0xeca9b0 OUT 0x10 RKey 0x183000 VAddr 0x007f5703000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0669 PSN 0x3d9be9 OUT 0x10 RKey 0x183000 VAddr 0x007f5703800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x066a PSN 0xe991d9 OUT 0x10 RKey 0x183000 VAddr 0x007f5704000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x066b PSN 0x4e8ce7 OUT 0x10 RKey 0x183000 VAddr 0x007f5704800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x066c PSN 0xebdff OUT 0x10 RKey 0x183000 VAddr 0x007f5705000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x066d PSN 0x48c026 OUT 0x10 RKey 0x183000 VAddr 0x007f5705800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x066e PSN 0xace21a OUT 0x10 RKey 0x183000 VAddr 0x007f5706000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x066f PSN 0x38abf OUT 0x10 RKey 0x183000 VAddr 0x007f5706800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0670 PSN 0xbd3211 OUT 0x10 RKey 0x183000 VAddr 0x007f5707000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0671 PSN 0x7f6701 OUT 0x10 RKey 0x183000 VAddr 0x007f5707800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0662 PSN 0xaaf54c OUT 0x10 RKey 0x182f00 VAddr 0x007f79ec000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0663 PSN 0x42346 OUT 0x10 RKey 0x182f00 VAddr 0x007f79ec800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0664 PSN 0x6d6a18 OUT 0x10 RKey 0x182f00 VAddr 0x007f79ed000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0665 PSN 0x2e5b87 OUT 0x10 RKey 0x182f00 VAddr 0x007f79ed800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0666 PSN 0xddf88e OUT 0x10 RKey 0x182f00 VAddr 0x007f79ee000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0667 PSN 0x52bdd8 OUT 0x10 RKey 0x182f00 VAddr 0x007f79ee800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0668 PSN 0xd4a657 OUT 0x10 RKey 0x182f00 VAddr 0x007f79ef000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0669 PSN 0xf63904 OUT 0x10 RKey 0x182f00 VAddr 0x007f79ef800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x066a PSN 0x8eb858 OUT 0x10 RKey 0x182f00 VAddr 0x007f79f0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x066b PSN 0x4a0afa OUT 0x10 RKey 0x182f00 VAddr 0x007f79f0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x066c PSN 0xec7e16 OUT 0x10 RKey 0x182f00 VAddr 0x007f79f1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x066d PSN 0x7c33f1 OUT 0x10 RKey 0x182f00 VAddr 0x007f79f1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x066e PSN 0xc19189 OUT 0x10 RKey 0x182f00 VAddr 0x007f79f2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x066f PSN 0xc3f702 OUT 0x10 RKey 0x182f00 VAddr 0x007f79f2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0670 PSN 0xb37c98 OUT 0x10 RKey 0x182f00 VAddr 0x007f79f3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0671 PSN 0xc66c7c OUT 0x10 RKey 0x182f00 VAddr 0x007f79f3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.077922            0.077461            4.841296
 4          16000            0.16               0.16   		     4.931012
 8          16000            0.31               0.31   		     4.900099
 16         16000            0.63               0.63   		     4.928673
 32         16000            1.26               1.25   		     4.893819
 64         16000            2.54               2.53   		     4.936230
 128        16000            5.05               5.04   		     4.922729
 256        16000            10.13              10.09  		     4.925623
 512        16000            20.21              20.11  		     4.910687
 1024       16000            40.16              39.96  		     4.877995
 2048       16000            80.14              80.05  		     4.886063
 4096       16000            159.58             159.26 		     4.860164
 8192       16000            196.61             196.44 		     2.997456
 16384      16000            197.79             197.69 		     1.508247
 32768      16000            198.06             198.05 		     0.755518
 65536      16000            198.13             198.11 		     0.377863
 131072     16000            198.16             198.16 		     0.188978
 262144     16000            198.19             198.18 		     0.094502
 524288     16000            198.22             198.21 		     0.047258
 1048576    16000            198.20             198.20 		     0.023627
 2097152    16000            185.05             185.05 		     0.011030
 4194304    16000            163.75             163.75 		     0.004880
 8388608    16000            163.74             163.74 		     0.002440
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f56f8000000
destroying current CUDA Ctx
