initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 2
[pid = 11539, dev = 2] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f6c0c000000 pointer=0x7f6c0c000000
using DMA-BUF for GPU buffer address at 0x7f6c0c000000 aligned at 0x7f6c0c000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f6c0c000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x036e PSN 0x6ec480 OUT 0x10 RKey 0x183000 VAddr 0x007f6c14000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x036f PSN 0xf287a1 OUT 0x10 RKey 0x183000 VAddr 0x007f6c14800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0370 PSN 0x8573a1 OUT 0x10 RKey 0x183000 VAddr 0x007f6c15000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0371 PSN 0xd10da5 OUT 0x10 RKey 0x183000 VAddr 0x007f6c15800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0372 PSN 0x49368b OUT 0x10 RKey 0x183000 VAddr 0x007f6c16000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0373 PSN 0x72fd5b OUT 0x10 RKey 0x183000 VAddr 0x007f6c16800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0374 PSN 0xecefe8 OUT 0x10 RKey 0x183000 VAddr 0x007f6c17000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0375 PSN 0x9b5e8b OUT 0x10 RKey 0x183000 VAddr 0x007f6c17800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0376 PSN 0x94899d OUT 0x10 RKey 0x183000 VAddr 0x007f6c18000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0377 PSN 0xedb024 OUT 0x10 RKey 0x183000 VAddr 0x007f6c18800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0378 PSN 0x2c002e OUT 0x10 RKey 0x183000 VAddr 0x007f6c19000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0379 PSN 0xfe9b60 OUT 0x10 RKey 0x183000 VAddr 0x007f6c19800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x037a PSN 0x12e296 OUT 0x10 RKey 0x183000 VAddr 0x007f6c1a000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x037b PSN 0xbab454 OUT 0x10 RKey 0x183000 VAddr 0x007f6c1a800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x037c PSN 0xe837b8 OUT 0x10 RKey 0x183000 VAddr 0x007f6c1b000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x037d PSN 0x4f4c52 OUT 0x10 RKey 0x183000 VAddr 0x007f6c1b800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x036e PSN 0x6dd76b OUT 0x10 RKey 0x182f00 VAddr 0x007f826e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x036f PSN 0x30b7b0 OUT 0x10 RKey 0x182f00 VAddr 0x007f826e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0370 PSN 0x16404 OUT 0x10 RKey 0x182f00 VAddr 0x007f826f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0371 PSN 0xd359cc OUT 0x10 RKey 0x182f00 VAddr 0x007f826f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0372 PSN 0xa2ad26 OUT 0x10 RKey 0x182f00 VAddr 0x007f8270000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0373 PSN 0xfdbf5a OUT 0x10 RKey 0x182f00 VAddr 0x007f8270800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0374 PSN 0x60a37b OUT 0x10 RKey 0x182f00 VAddr 0x007f8271000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0375 PSN 0xb8e622 OUT 0x10 RKey 0x182f00 VAddr 0x007f8271800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0376 PSN 0x2ceee8 OUT 0x10 RKey 0x182f00 VAddr 0x007f8272000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0377 PSN 0xf63313 OUT 0x10 RKey 0x182f00 VAddr 0x007f8272800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0378 PSN 0xc279f1 OUT 0x10 RKey 0x182f00 VAddr 0x007f8273000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0379 PSN 0x39a567 OUT 0x10 RKey 0x182f00 VAddr 0x007f8273800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x037a PSN 0xac7191 OUT 0x10 RKey 0x182f00 VAddr 0x007f8274000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x037b PSN 0xf61733 OUT 0x10 RKey 0x182f00 VAddr 0x007f8274800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x037c PSN 0x99aaab OUT 0x10 RKey 0x182f00 VAddr 0x007f8275000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x037d PSN 0x278fc9 OUT 0x10 RKey 0x182f00 VAddr 0x007f8275800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.081448            0.080837            5.052323
 4          16000            0.17               0.16   		     5.146416
 8          16000            0.33               0.33   		     5.156400
 16         16000            0.66               0.66   		     5.157247
 32         16000            1.32               1.31   		     5.135095
 64         16000            2.64               2.63   		     5.134623
 128        16000            5.28               5.26   		     5.136503
 256        16000            10.54              10.49  		     5.121573
 512        16000            21.14              21.05  		     5.139257
 1024       16000            41.89              41.69  		     5.089690
 2048       16000            83.78              83.69  		     5.108296
 4096       16000            167.18             166.93 		     5.094390
 8192       16000            207.98             207.56 		     3.167100
 16384      16000            208.86             208.81 		     1.593065
 32768      16000            209.23             209.18 		     0.797972
 65536      16000            209.31             209.29 		     0.399196
 131072     16000            209.34             209.34 		     0.199638
 262144     16000            209.41             209.40 		     0.099850
 524288     16000            209.43             209.43 		     0.049932
 1048576    16000            209.45             209.44 		     0.024968
 2097152    16000            192.25             192.25 		     0.011459
 4194304    16000            171.04             171.04 		     0.005097
 8388608    16000            170.99             170.99 		     0.002548
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f6c0c000000
destroying current CUDA Ctx
