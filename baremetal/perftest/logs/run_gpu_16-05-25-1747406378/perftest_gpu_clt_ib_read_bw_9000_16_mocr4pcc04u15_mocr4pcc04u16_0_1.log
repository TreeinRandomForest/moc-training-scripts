initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 1
[pid = 46011, dev = 1] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f9136000000 pointer=0x7f9136000000
using DMA-BUF for GPU buffer address at 0x7f9136000000 aligned at 0x7f9136000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f9136000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x16a0 PSN 0x66652d OUT 0x10 RKey 0x183000 VAddr 0x007f913e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x16a1 PSN 0x395f4a OUT 0x10 RKey 0x183000 VAddr 0x007f913e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x16a2 PSN 0x3d1c96 OUT 0x10 RKey 0x183000 VAddr 0x007f913f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x16a3 PSN 0xac1bf6 OUT 0x10 RKey 0x183000 VAddr 0x007f913f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x16a4 PSN 0x171508 OUT 0x10 RKey 0x183000 VAddr 0x007f9140000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x16a5 PSN 0x3b0694 OUT 0x10 RKey 0x183000 VAddr 0x007f9140800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x16a6 PSN 0xee132d OUT 0x10 RKey 0x183000 VAddr 0x007f9141000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x16a7 PSN 0x6360ec OUT 0x10 RKey 0x183000 VAddr 0x007f9141800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x16a8 PSN 0x4cb2ea OUT 0x10 RKey 0x183000 VAddr 0x007f9142000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x16a9 PSN 0x6e73ed OUT 0x10 RKey 0x183000 VAddr 0x007f9142800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x16aa PSN 0x31f2c3 OUT 0x10 RKey 0x183000 VAddr 0x007f9143000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x16ab PSN 0xd4c2d1 OUT 0x10 RKey 0x183000 VAddr 0x007f9143800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x16ac PSN 0xdd33b3 OUT 0x10 RKey 0x183000 VAddr 0x007f9144000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x16ad PSN 0x7b4bad OUT 0x10 RKey 0x183000 VAddr 0x007f9144800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x16ae PSN 0xee9e9d OUT 0x10 RKey 0x183000 VAddr 0x007f9145000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x16af PSN 0x96d9d3 OUT 0x10 RKey 0x183000 VAddr 0x007f9145800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x16a0 PSN 0x78d17 OUT 0x10 RKey 0x182f00 VAddr 0x007f4cbc000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x16a1 PSN 0x6b99ec OUT 0x10 RKey 0x182f00 VAddr 0x007f4cbc800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x16a2 PSN 0xa59f90 OUT 0x10 RKey 0x182f00 VAddr 0x007f4cbd000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x16a3 PSN 0x507c68 OUT 0x10 RKey 0x182f00 VAddr 0x007f4cbd800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x16a4 PSN 0xd29192 OUT 0x10 RKey 0x182f00 VAddr 0x007f4cbe000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x16a5 PSN 0x2b0956 OUT 0x10 RKey 0x182f00 VAddr 0x007f4cbe800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x16a6 PSN 0x718bc7 OUT 0x10 RKey 0x182f00 VAddr 0x007f4cbf000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x16a7 PSN 0xb0167e OUT 0x10 RKey 0x182f00 VAddr 0x007f4cbf800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x16a8 PSN 0xaf2e14 OUT 0x10 RKey 0x182f00 VAddr 0x007f4cc0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x16a9 PSN 0xbca0cf OUT 0x10 RKey 0x182f00 VAddr 0x007f4cc0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x16aa PSN 0x261afd OUT 0x10 RKey 0x182f00 VAddr 0x007f4cc1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x16ab PSN 0x65ff83 OUT 0x10 RKey 0x182f00 VAddr 0x007f4cc1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x16ac PSN 0x53f77d OUT 0x10 RKey 0x182f00 VAddr 0x007f4cc2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x16ad PSN 0x2c24af OUT 0x10 RKey 0x182f00 VAddr 0x007f4cc2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x16ae PSN 0xad077 OUT 0x10 RKey 0x182f00 VAddr 0x007f4cc3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x16af PSN 0x59efa5 OUT 0x10 RKey 0x182f00 VAddr 0x007f4cc3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.059896            0.059363            3.710187
 4          16000            0.12               0.12   		     3.788677
 8          16000            0.24               0.24   		     3.740468
 16         16000            0.49               0.48   		     3.782721
 32         16000            0.97               0.97   		     3.792575
 64         16000            1.95               1.94   		     3.788588
 128        16000            3.90               3.88   		     3.793042
 256        16000            7.84               7.81   		     3.811457
 512        16000            15.78              15.73  		     3.840190
 1024       16000            31.19              31.14  		     3.801324
 2048       16000            63.02              62.31  		     3.803194
 4096       16000            133.57             133.10 		     4.061800
 8192       16000            206.81             206.76 		     3.154941
 16384      16000            208.86             208.82 		     1.593162
 32768      16000            209.22             209.20 		     0.798023
 65536      16000            209.31             209.29 		     0.399197
 131072     16000            209.32             209.31 		     0.199616
 262144     16000            209.41             209.41 		     0.099853
 524288     16000            209.44             209.44 		     0.049934
 1048576    16000            209.46             209.46 		     0.024969
 2097152    16000            191.96             191.96 		     0.011442
 4194304    16000            171.10             171.10 		     0.005099
 8388608    16000            171.05             171.04 		     0.002549
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f9136000000
destroying current CUDA Ctx
