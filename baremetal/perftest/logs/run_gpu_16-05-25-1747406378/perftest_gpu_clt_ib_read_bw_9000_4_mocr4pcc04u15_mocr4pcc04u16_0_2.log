initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 2
[pid = 46586, dev = 2] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 67108864 bytes GPU buffer
allocated GPU buffer address at 00007f5bb0000000 pointer=0x7f5bb0000000
using DMA-BUF for GPU buffer address at 0x7f5bb0000000 aligned at 0x7f5bb0000000 with aligned size 67108864
Calling ibv_reg_dmabuf_mr(offset=0, size=67108864, addr=0x7f5bb0000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 4		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x1712 PSN 0x18ee36 OUT 0x10 RKey 0x182f00 VAddr 0x007f5bb2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1713 PSN 0x315ae8 OUT 0x10 RKey 0x182f00 VAddr 0x007f5bb2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1714 PSN 0x1a612 OUT 0x10 RKey 0x182f00 VAddr 0x007f5bb3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1715 PSN 0xa680f9 OUT 0x10 RKey 0x182f00 VAddr 0x007f5bb3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1712 PSN 0x19fe4e OUT 0x10 RKey 0x182f00 VAddr 0x007fdea4000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1713 PSN 0x3ac520 OUT 0x10 RKey 0x182f00 VAddr 0x007fdea4800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1714 PSN 0x122fea OUT 0x10 RKey 0x182f00 VAddr 0x007fdea5000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1715 PSN 0xa941f1 OUT 0x10 RKey 0x182f00 VAddr 0x007fdea5800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          4000           0.057878            0.057077            3.567319
 4          4000             0.12               0.12   		     3.619123
 8          4000             0.23               0.23   		     3.597542
 16         4000             0.47               0.46   		     3.600717
 32         4000             0.92               0.92   		     3.584229
 64         4000             1.87               1.86   		     3.629138
 128        4000             3.72               3.69   		     3.599259
 256        4000             7.42               7.41   		     3.615753
 512        4000             14.84              14.80  		     3.613272
 1024       4000             29.44              28.88  		     3.524943
 2048       4000             59.08              59.00  		     3.601235
 4096       4000             117.40             117.26 		     3.578490
 8192       4000             177.87             176.90 		     2.699347
 16384      4000             206.96             206.79 		     1.577667
 32768      4000             208.64             208.58 		     0.795683
 65536      4000             209.16             209.14 		     0.398899
 131072     4000             209.31             209.30 		     0.199608
 262144     4000             209.40             209.40 		     0.099848
 524288     4000             209.42             209.42 		     0.049929
 1048576    4000             209.42             209.42 		     0.024965
 2097152    4000             209.44             209.44 		     0.012484
 4194304    4000             209.46             209.46 		     0.006242
 8388608    4000             196.02             195.99 		     0.002920
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f5bb0000000
destroying current CUDA Ctx
