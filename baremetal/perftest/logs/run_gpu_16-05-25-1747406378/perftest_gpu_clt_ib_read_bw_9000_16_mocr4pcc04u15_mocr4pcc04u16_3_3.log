initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 3
[pid = 55759, dev = 3] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f56de000000 pointer=0x7f56de000000
using DMA-BUF for GPU buffer address at 0x7f56de000000 aligned at 0x7f56de000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f56de000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x1d84 PSN 0x94ce19 OUT 0x10 RKey 0x183000 VAddr 0x007f56e6000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1d85 PSN 0xd013c6 OUT 0x10 RKey 0x183000 VAddr 0x007f56e6800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1d86 PSN 0xdf5d62 OUT 0x10 RKey 0x183000 VAddr 0x007f56e7000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1d87 PSN 0x8fad2 OUT 0x10 RKey 0x183000 VAddr 0x007f56e7800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1d88 PSN 0xaba0b4 OUT 0x10 RKey 0x183000 VAddr 0x007f56e8000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1d89 PSN 0x8706d0 OUT 0x10 RKey 0x183000 VAddr 0x007f56e8800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1d8a PSN 0xd014b9 OUT 0x10 RKey 0x183000 VAddr 0x007f56e9000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1d8b PSN 0x11d188 OUT 0x10 RKey 0x183000 VAddr 0x007f56e9800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1d8c PSN 0x8ecd56 OUT 0x10 RKey 0x183000 VAddr 0x007f56ea000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1d8d PSN 0xe0bbe9 OUT 0x10 RKey 0x183000 VAddr 0x007f56ea800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1d8e PSN 0xd7010f OUT 0x10 RKey 0x183000 VAddr 0x007f56eb000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1d8f PSN 0x4212d OUT 0x10 RKey 0x183000 VAddr 0x007f56eb800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1d90 PSN 0x9f08df OUT 0x10 RKey 0x183000 VAddr 0x007f56ec000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1d91 PSN 0x189769 OUT 0x10 RKey 0x183000 VAddr 0x007f56ec800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1d92 PSN 0x42c5a9 OUT 0x10 RKey 0x183000 VAddr 0x007f56ed000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1d93 PSN 0x9041ef OUT 0x10 RKey 0x183000 VAddr 0x007f56ed800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1d84 PSN 0xc12b0a OUT 0x10 RKey 0x182f00 VAddr 0x007f1d3e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1d85 PSN 0x602c63 OUT 0x10 RKey 0x182f00 VAddr 0x007f1d3e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1d86 PSN 0x12e63b OUT 0x10 RKey 0x182f00 VAddr 0x007f1d3f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1d87 PSN 0xf93537 OUT 0x10 RKey 0x182f00 VAddr 0x007f1d3f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1d88 PSN 0x873bb5 OUT 0x10 RKey 0x182f00 VAddr 0x007f1d40000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1d89 PSN 0x36ec3d OUT 0x10 RKey 0x182f00 VAddr 0x007f1d40800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1d8a PSN 0x50b222 OUT 0x10 RKey 0x182f00 VAddr 0x007f1d41000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1d8b PSN 0xd2d3d OUT 0x10 RKey 0x182f00 VAddr 0x007f1d41800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1d8c PSN 0xd57767 OUT 0x10 RKey 0x182f00 VAddr 0x007f1d42000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1d8d PSN 0x6e6b26 OUT 0x10 RKey 0x182f00 VAddr 0x007f1d42800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1d8e PSN 0xd76c08 OUT 0x10 RKey 0x182f00 VAddr 0x007f1d43000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1d8f PSN 0xd96332 OUT 0x10 RKey 0x182f00 VAddr 0x007f1d43800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1d90 PSN 0x58a300 OUT 0x10 RKey 0x182f00 VAddr 0x007f1d44000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1d91 PSN 0x4dd76 OUT 0x10 RKey 0x182f00 VAddr 0x007f1d44800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1d92 PSN 0xc84732 OUT 0x10 RKey 0x182f00 VAddr 0x007f1d45000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1d93 PSN 0x157f44 OUT 0x10 RKey 0x182f00 VAddr 0x007f1d45800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.082192            0.081724            5.107774
 4          16000            0.17               0.17   		     5.194789
 8          16000            0.33               0.33   		     5.198991
 16         16000            0.67               0.67   		     5.220518
 32         16000            1.34               1.33   		     5.204014
 64         16000            2.69               2.67   		     5.218849
 128        16000            5.35               5.32   		     5.196914
 256        16000            10.67              10.63  		     5.188101
 512        16000            21.38              21.29  		     5.198771
 1024       16000            42.67              42.51  		     5.188976
 2048       16000            84.36              84.27  		     5.143669
 4096       16000            168.71             168.32 		     5.136848
 8192       16000            196.09             195.77 		     2.987259
 16384      16000            197.13             197.01 		     1.503035
 32768      16000            197.33             197.28 		     0.752570
 65536      16000            197.46             197.45 		     0.376603
 131072     16000            197.55             197.53 		     0.188381
 262144     16000            197.54             197.54 		     0.094193
 524288     16000            197.57             197.57 		     0.047104
 1048576    16000            197.55             197.55 		     0.023550
 2097152    16000            185.18             185.17 		     0.011037
 4194304    16000            163.48             163.48 		     0.004872
 8388608    16000            163.45             163.45 		     0.002436
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f56de000000
destroying current CUDA Ctx
