initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 1
[pid = 60768, dev = 1] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007efe34000000 pointer=0x7efe34000000
using DMA-BUF for GPU buffer address at 0x7efe34000000 aligned at 0x7efe34000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7efe34000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 5
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x2078 PSN 0x60a9be OUT 0x10 RKey 0x182f00 VAddr 0x007efe3c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2079 PSN 0x9863d0 OUT 0x10 RKey 0x182f00 VAddr 0x007efe3c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x207a PSN 0xc0e0da OUT 0x10 RKey 0x182f00 VAddr 0x007efe3d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x207b PSN 0x423821 OUT 0x10 RKey 0x182f00 VAddr 0x007efe3d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x207c PSN 0x7d4220 OUT 0x10 RKey 0x182f00 VAddr 0x007efe3e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x207d PSN 0xd63d02 OUT 0x10 RKey 0x182f00 VAddr 0x007efe3e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x207e PSN 0xc98739 OUT 0x10 RKey 0x182f00 VAddr 0x007efe3f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x207f PSN 0x9d053e OUT 0x10 RKey 0x182f00 VAddr 0x007efe3f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2080 PSN 0x87c90a OUT 0x10 RKey 0x182f00 VAddr 0x007efe40000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2081 PSN 0x6e12c4 OUT 0x10 RKey 0x182f00 VAddr 0x007efe40800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2082 PSN 0x7b4b18 OUT 0x10 RKey 0x182f00 VAddr 0x007efe41000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2083 PSN 0x5149cb OUT 0x10 RKey 0x182f00 VAddr 0x007efe41800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2084 PSN 0x15bb5b OUT 0x10 RKey 0x182f00 VAddr 0x007efe42000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2085 PSN 0xc4716c OUT 0x10 RKey 0x182f00 VAddr 0x007efe42800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2086 PSN 0x9ad7ba OUT 0x10 RKey 0x182f00 VAddr 0x007efe43000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2087 PSN 0x80c5f6 OUT 0x10 RKey 0x182f00 VAddr 0x007efe43800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x2078 PSN 0x3a9f33 OUT 0x10 RKey 0x183000 VAddr 0x007f0130000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2079 PSN 0xc904a1 OUT 0x10 RKey 0x183000 VAddr 0x007f0130800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x207a PSN 0x9d1fd7 OUT 0x10 RKey 0x183000 VAddr 0x007f0131000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x207b PSN 0xdc57da OUT 0x10 RKey 0x183000 VAddr 0x007f0131800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x207c PSN 0x28f9e5 OUT 0x10 RKey 0x183000 VAddr 0x007f0132000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x207d PSN 0xaa79e3 OUT 0x10 RKey 0x183000 VAddr 0x007f0132800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x207e PSN 0x459906 OUT 0x10 RKey 0x183000 VAddr 0x007f0133000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x207f PSN 0x6ac787 OUT 0x10 RKey 0x183000 VAddr 0x007f0133800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2080 PSN 0xfd181f OUT 0x10 RKey 0x183000 VAddr 0x007f0134000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2081 PSN 0xc99cb5 OUT 0x10 RKey 0x183000 VAddr 0x007f0134800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2082 PSN 0x8f8cb5 OUT 0x10 RKey 0x183000 VAddr 0x007f0135000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2083 PSN 0xa047a4 OUT 0x10 RKey 0x183000 VAddr 0x007f0135800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2084 PSN 0xd4c6c0 OUT 0x10 RKey 0x183000 VAddr 0x007f0136000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2085 PSN 0x75096d OUT 0x10 RKey 0x183000 VAddr 0x007f0136800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2086 PSN 0x487627 OUT 0x10 RKey 0x183000 VAddr 0x007f0137000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2087 PSN 0x3f285f OUT 0x10 RKey 0x183000 VAddr 0x007f0137800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.059801            0.059490            3.718111
 4          16000            0.12               0.12   		     3.740022
 8          16000            0.24               0.24   		     3.753974
 16         16000            0.48               0.48   		     3.768226
 32         16000            0.97               0.97   		     3.775526
 64         16000            1.94               1.93   		     3.768643
 128        16000            3.89               3.87   		     3.779423
 256        16000            7.77               7.75   		     3.784214
 512        16000            15.75              15.72  		     3.838716
 1024       16000            31.45              31.24  		     3.813310
 2048       16000            63.45              63.23  		     3.859458
 4096       16000            131.89             130.73 		     3.989607
 8192       16000            201.16             201.07 		     3.068061
 16384      16000            200.62             200.56 		     1.530160
 32768      16000            200.96             200.95 		     0.766560
 65536      16000            200.01             200.00 		     0.381464
 131072     16000            199.98             199.97 		     0.190703
 262144     16000            200.08             200.05 		     0.095389
 524288     16000            201.06             200.58 		     0.047823
 1048576    16000            202.20             202.20 		     0.024104
 2097152    16000            188.96             187.83 		     0.011195
 4194304    16000            167.82             167.54 		     0.004993
 8388608    16000            167.42             167.06 		     0.002489
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007efe34000000
destroying current CUDA Ctx
