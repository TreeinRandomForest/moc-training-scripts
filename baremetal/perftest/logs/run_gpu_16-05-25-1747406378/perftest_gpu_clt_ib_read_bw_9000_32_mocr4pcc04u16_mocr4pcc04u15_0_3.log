initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 3
[pid = 59444, dev = 3] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 536870912 bytes GPU buffer
allocated GPU buffer address at 00007fe820000000 pointer=0x7fe820000000
using DMA-BUF for GPU buffer address at 0x7fe820000000 aligned at 0x7fe820000000 with aligned size 536870912
Calling ibv_reg_dmabuf_mr(offset=0, size=536870912, addr=0x7fe820000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 32		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 5
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x1f8c PSN 0x8ab586 OUT 0x10 RKey 0x183000 VAddr 0x007fe830000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f8d PSN 0x7517f8 OUT 0x10 RKey 0x183000 VAddr 0x007fe830800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f8e PSN 0x7585e2 OUT 0x10 RKey 0x183000 VAddr 0x007fe831000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f8f PSN 0xd1ac89 OUT 0x10 RKey 0x183000 VAddr 0x007fe831800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f90 PSN 0x74268 OUT 0x10 RKey 0x183000 VAddr 0x007fe832000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f91 PSN 0x390baa OUT 0x10 RKey 0x183000 VAddr 0x007fe832800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f92 PSN 0x6674c1 OUT 0x10 RKey 0x183000 VAddr 0x007fe833000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f93 PSN 0x365826 OUT 0x10 RKey 0x183000 VAddr 0x007fe833800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f94 PSN 0x2c85d2 OUT 0x10 RKey 0x183000 VAddr 0x007fe834000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f95 PSN 0x8e23ec OUT 0x10 RKey 0x183000 VAddr 0x007fe834800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f96 PSN 0x6c8920 OUT 0x10 RKey 0x183000 VAddr 0x007fe835000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f97 PSN 0x23e333 OUT 0x10 RKey 0x183000 VAddr 0x007fe835800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f98 PSN 0x747ca3 OUT 0x10 RKey 0x183000 VAddr 0x007fe836000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f99 PSN 0x236d14 OUT 0x10 RKey 0x183000 VAddr 0x007fe836800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f9a PSN 0x4ee42 OUT 0x10 RKey 0x183000 VAddr 0x007fe837000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f9b PSN 0x4a8dde OUT 0x10 RKey 0x183000 VAddr 0x007fe837800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f9c PSN 0x569b OUT 0x10 RKey 0x183000 VAddr 0x007fe838000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f9d PSN 0x3bb9b9 OUT 0x10 RKey 0x183000 VAddr 0x007fe838800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f9e PSN 0xb988a0 OUT 0x10 RKey 0x183000 VAddr 0x007fe839000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f9f PSN 0x81550d OUT 0x10 RKey 0x183000 VAddr 0x007fe839800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1fa0 PSN 0x413dea OUT 0x10 RKey 0x183000 VAddr 0x007fe83a000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1fa1 PSN 0x89471 OUT 0x10 RKey 0x183000 VAddr 0x007fe83a800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1fa2 PSN 0xe63181 OUT 0x10 RKey 0x183000 VAddr 0x007fe83b000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1fa3 PSN 0x44aef5 OUT 0x10 RKey 0x183000 VAddr 0x007fe83b800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1fa4 PSN 0xf1cd52 OUT 0x10 RKey 0x183000 VAddr 0x007fe83c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1fa5 PSN 0xc34bb5 OUT 0x10 RKey 0x183000 VAddr 0x007fe83c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1fa6 PSN 0x67d232 OUT 0x10 RKey 0x183000 VAddr 0x007fe83d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1fa7 PSN 0x333ecc OUT 0x10 RKey 0x183000 VAddr 0x007fe83d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1fa8 PSN 0xb87efb OUT 0x10 RKey 0x183000 VAddr 0x007fe83e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1fa9 PSN 0x9799e1 OUT 0x10 RKey 0x183000 VAddr 0x007fe83e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1faa PSN 0x4fb8e3 OUT 0x10 RKey 0x183000 VAddr 0x007fe83f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1fab PSN 0x9cd196 OUT 0x10 RKey 0x183000 VAddr 0x007fe83f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1f8c PSN 0x800fdc OUT 0x10 RKey 0x183100 VAddr 0x007f2e30000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f8d PSN 0x5dd296 OUT 0x10 RKey 0x183100 VAddr 0x007f2e30800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f8e PSN 0xdeef28 OUT 0x10 RKey 0x183100 VAddr 0x007f2e31000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f8f PSN 0xd06357 OUT 0x10 RKey 0x183100 VAddr 0x007f2e31800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f90 PSN 0xa02c1e OUT 0x10 RKey 0x183100 VAddr 0x007f2e32000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f91 PSN 0x161228 OUT 0x10 RKey 0x183100 VAddr 0x007f2e32800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f92 PSN 0x7f6c67 OUT 0x10 RKey 0x183100 VAddr 0x007f2e33000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f93 PSN 0x5eedd4 OUT 0x10 RKey 0x183100 VAddr 0x007f2e33800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f94 PSN 0x5694e8 OUT 0x10 RKey 0x183100 VAddr 0x007f2e34000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f95 PSN 0x4c544a OUT 0x10 RKey 0x183100 VAddr 0x007f2e34800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f96 PSN 0x839526 OUT 0x10 RKey 0x183100 VAddr 0x007f2e35000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f97 PSN 0x4965c1 OUT 0x10 RKey 0x183100 VAddr 0x007f2e35800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f98 PSN 0xa0a719 OUT 0x10 RKey 0x183100 VAddr 0x007f2e36000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f99 PSN 0xdf8552 OUT 0x10 RKey 0x183100 VAddr 0x007f2e36800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f9a PSN 0xaf4a8 OUT 0x10 RKey 0x183100 VAddr 0x007f2e37000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f9b PSN 0xa2eb4c OUT 0x10 RKey 0x183100 VAddr 0x007f2e37800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f9c PSN 0xf8f271 OUT 0x10 RKey 0x183100 VAddr 0x007f2e38000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f9d PSN 0x6057d7 OUT 0x10 RKey 0x183100 VAddr 0x007f2e38800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f9e PSN 0x7cf66 OUT 0x10 RKey 0x183100 VAddr 0x007f2e39000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f9f PSN 0xf35b5b OUT 0x10 RKey 0x183100 VAddr 0x007f2e39800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1fa0 PSN 0x600120 OUT 0x10 RKey 0x183100 VAddr 0x007f2e3a000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1fa1 PSN 0x4c366f OUT 0x10 RKey 0x183100 VAddr 0x007f2e3a800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1fa2 PSN 0x645ea7 OUT 0x10 RKey 0x183100 VAddr 0x007f2e3b000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1fa3 PSN 0x960c23 OUT 0x10 RKey 0x183100 VAddr 0x007f2e3b800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1fa4 PSN 0xb5cde8 OUT 0x10 RKey 0x183100 VAddr 0x007f2e3c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1fa5 PSN 0x64f93 OUT 0x10 RKey 0x183100 VAddr 0x007f2e3c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1fa6 PSN 0x11ebb8 OUT 0x10 RKey 0x183100 VAddr 0x007f2e3d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1fa7 PSN 0x1680da OUT 0x10 RKey 0x183100 VAddr 0x007f2e3d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1fa8 PSN 0xbc32f1 OUT 0x10 RKey 0x183100 VAddr 0x007f2e3e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1fa9 PSN 0xa23d9f OUT 0x10 RKey 0x183100 VAddr 0x007f2e3e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1faa PSN 0x1c24c9 OUT 0x10 RKey 0x183100 VAddr 0x007f2e3f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1fab PSN 0x9f6684 OUT 0x10 RKey 0x183100 VAddr 0x007f2e3f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          32000           0.056075            0.055488            3.467989
 4          32000            0.11               0.11   		     3.537452
 8          32000            0.23               0.23   		     3.546033
 16         32000            0.45               0.45   		     3.543480
 32         32000            0.91               0.91   		     3.544952
 64         32000            1.82               1.81   		     3.539506
 128        32000            3.63               3.61   		     3.529648
 256        32000            7.26               7.24   		     3.533159
 512        32000            14.51              14.48  		     3.534923
 1024       32000            28.94              28.89  		     3.526750
 2048       32000            57.15              56.87  		     3.470908
 4096       32000            116.84             116.67 		     3.560386
 8192       32000            196.87             196.73 		     3.001800
 16384      32000            203.11             203.00 		     1.548771
 32768      32000            206.09             206.06 		     0.786041
 65536      32000            207.87             207.87 		     0.396473
 131072     32000            209.27             209.25 		     0.199557
 262144     32000            209.32             209.32 		     0.099811
 524288     32000            209.21             209.21 		     0.049879
 1048576    32000            187.00             187.00 		     0.022292
 2097152    32000            171.23             171.23 		     0.010206
 4194304    32000            171.22             171.22 		     0.005103
 8388608    32000            171.17             171.17 		     0.002551
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007fe820000000
destroying current CUDA Ctx
