initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 0
[pid = 50839, dev = 0] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 67108864 bytes GPU buffer
allocated GPU buffer address at 00007fe8a0000000 pointer=0x7fe8a0000000
using DMA-BUF for GPU buffer address at 0x7fe8a0000000 aligned at 0x7fe8a0000000 with aligned size 67108864
Calling ibv_reg_dmabuf_mr(offset=0, size=67108864, addr=0x7fe8a0000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 4		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x1a06 PSN 0xa237f2 OUT 0x10 RKey 0x182f00 VAddr 0x007fe8a2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1a07 PSN 0xab1b2b OUT 0x10 RKey 0x182f00 VAddr 0x007fe8a2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1a08 PSN 0xe24163 OUT 0x10 RKey 0x182f00 VAddr 0x007fe8a3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x1a09 PSN 0x8f53f OUT 0x10 RKey 0x182f00 VAddr 0x007fe8a3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1a06 PSN 0xf4a35e OUT 0x10 RKey 0x182f00 VAddr 0x007efbe6000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1a07 PSN 0x5f6cf0 OUT 0x10 RKey 0x182f00 VAddr 0x007efbe6800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1a08 PSN 0x32837a OUT 0x10 RKey 0x182f00 VAddr 0x007efbe7000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1a09 PSN 0x403641 OUT 0x10 RKey 0x182f00 VAddr 0x007efbe7800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          4000           0.058252            0.057623            3.601462
 4          4000             0.12               0.12   		     3.655839
 8          4000             0.24               0.23   		     3.661294
 16         4000             0.46               0.46   		     3.623254
 32         4000             0.94               0.94   		     3.652402
 64         4000             1.86               1.85   		     3.612554
 128        4000             3.76               3.70   		     3.611314
 256        4000             7.43               7.41   		     3.616959
 512        4000             14.91              14.71  		     3.591245
 1024       4000             29.63              29.35  		     3.582848
 2048       4000             59.55              59.49  		     3.630752
 4096       4000             118.53             116.80 		     3.564427
 8192       4000             171.66             171.42 		     2.615678
 16384      4000             195.18             195.11 		     1.488538
 32768      4000             197.53             197.48 		     0.753314
 65536      4000             197.82             197.79 		     0.377252
 131072     4000             198.01             198.00 		     0.188832
 262144     4000             198.09             198.08 		     0.094454
 524288     4000             198.10             198.10 		     0.047230
 1048576    4000             198.14             198.13 		     0.023619
 2097152    4000             198.14             198.14 		     0.011810
 4194304    4000             198.17             198.17 		     0.005906
 8388608    4000             187.02             186.86 		     0.002784
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007fe8a0000000
destroying current CUDA Ctx
