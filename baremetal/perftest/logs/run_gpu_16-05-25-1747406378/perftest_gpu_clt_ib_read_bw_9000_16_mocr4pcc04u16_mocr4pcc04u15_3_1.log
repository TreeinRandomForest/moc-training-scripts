initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 1
[pid = 66219, dev = 1] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007fb468000000 pointer=0x7fb468000000
using DMA-BUF for GPU buffer address at 0x7fb468000000 aligned at 0x7fb468000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7fb468000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 5
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x2468 PSN 0x620db9 OUT 0x10 RKey 0x182f00 VAddr 0x007fb470000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2469 PSN 0x6777af OUT 0x10 RKey 0x182f00 VAddr 0x007fb470800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x246a PSN 0x5ab0cd OUT 0x10 RKey 0x182f00 VAddr 0x007fb471000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x246b PSN 0x981498 OUT 0x10 RKey 0x182f00 VAddr 0x007fb471800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x246c PSN 0xd30acb OUT 0x10 RKey 0x182f00 VAddr 0x007fb472000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x246d PSN 0x4a4fd1 OUT 0x10 RKey 0x182f00 VAddr 0x007fb472800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x246e PSN 0xef835c OUT 0x10 RKey 0x182f00 VAddr 0x007fb473000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x246f PSN 0x94d225 OUT 0x10 RKey 0x182f00 VAddr 0x007fb473800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2470 PSN 0x159165 OUT 0x10 RKey 0x182f00 VAddr 0x007fb474000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2471 PSN 0xb22383 OUT 0x10 RKey 0x182f00 VAddr 0x007fb474800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2472 PSN 0x96066b OUT 0x10 RKey 0x182f00 VAddr 0x007fb475000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2473 PSN 0x839e22 OUT 0x10 RKey 0x182f00 VAddr 0x007fb475800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2474 PSN 0x7dce66 OUT 0x10 RKey 0x182f00 VAddr 0x007fb476000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2475 PSN 0x546f1b OUT 0x10 RKey 0x182f00 VAddr 0x007fb476800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2476 PSN 0x29153d OUT 0x10 RKey 0x182f00 VAddr 0x007fb477000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2477 PSN 0x18a8bd OUT 0x10 RKey 0x182f00 VAddr 0x007fb477800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x2468 PSN 0xe34bfa OUT 0x10 RKey 0x183000 VAddr 0x007fdec6000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2469 PSN 0x495f5c OUT 0x10 RKey 0x183000 VAddr 0x007fdec6800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x246a PSN 0x2bc376 OUT 0x10 RKey 0x183000 VAddr 0x007fdec7000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x246b PSN 0x2cdc8d OUT 0x10 RKey 0x183000 VAddr 0x007fdec7800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x246c PSN 0xae4c1c OUT 0x10 RKey 0x183000 VAddr 0x007fdec8000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x246d PSN 0xffe54e OUT 0x10 RKey 0x183000 VAddr 0x007fdec8800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x246e PSN 0xca7795 OUT 0x10 RKey 0x183000 VAddr 0x007fdec9000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x246f PSN 0xc6046a OUT 0x10 RKey 0x183000 VAddr 0x007fdec9800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2470 PSN 0xcdf6c6 OUT 0x10 RKey 0x183000 VAddr 0x007fdeca000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2471 PSN 0xb673d0 OUT 0x10 RKey 0x183000 VAddr 0x007fdeca800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2472 PSN 0x8d6534 OUT 0x10 RKey 0x183000 VAddr 0x007fdecb000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2473 PSN 0x4b8fb7 OUT 0x10 RKey 0x183000 VAddr 0x007fdecb800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2474 PSN 0x788d7 OUT 0x10 RKey 0x183000 VAddr 0x007fdecc000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2475 PSN 0xa65738 OUT 0x10 RKey 0x183000 VAddr 0x007fdecc800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2476 PSN 0x4ef796 OUT 0x10 RKey 0x183000 VAddr 0x007fdecd000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2477 PSN 0xa1fea2 OUT 0x10 RKey 0x183000 VAddr 0x007fdecd800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.058537            0.057462            3.591406
 4          16000            0.12               0.12   		     3.680428
 8          16000            0.24               0.24   		     3.687282
 16         16000            0.48               0.47   		     3.693802
 32         16000            0.95               0.94   		     3.676310
 64         16000            1.89               1.89   		     3.684581
 128        16000            3.79               3.77   		     3.679658
 256        16000            7.62               7.58   		     3.698858
 512        16000            15.41              15.27  		     3.728517
 1024       16000            30.87              30.63  		     3.739358
 2048       16000            61.65              60.75  		     3.707995
 4096       16000            131.19             130.55 		     3.984094
 8192       16000            189.05             188.87 		     2.881881
 16384      16000            182.95             145.97 		     1.113645
 32768      16000            189.05             160.42 		     0.611937
 65536      16000            190.57             177.34 		     0.338249
 131072     16000            191.18             186.56 		     0.177914
 262144     16000            193.10             193.10 		     0.092076
 524288     16000            194.79             194.79 		     0.046441
 1048576    16000            196.18             196.18 		     0.023386
 2097152    16000            184.92             184.92 		     0.011022
 4194304    16000            163.08             163.08 		     0.004860
 8388608    16000            163.19             163.19 		     0.002432
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007fb468000000
destroying current CUDA Ctx
