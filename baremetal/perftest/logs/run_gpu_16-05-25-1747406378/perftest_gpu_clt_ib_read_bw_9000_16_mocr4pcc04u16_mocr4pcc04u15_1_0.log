initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 0
[pid = 60085, dev = 0] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007ff748000000 pointer=0x7ff748000000
using DMA-BUF for GPU buffer address at 0x7ff748000000 aligned at 0x7ff748000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7ff748000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 5
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x1ffa PSN 0x3bd8b OUT 0x10 RKey 0x182f00 VAddr 0x007ff750000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1ffb PSN 0xce0019 OUT 0x10 RKey 0x182f00 VAddr 0x007ff750800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1ffc PSN 0x4a01ef OUT 0x10 RKey 0x182f00 VAddr 0x007ff751000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1ffd PSN 0xba2c12 OUT 0x10 RKey 0x182f00 VAddr 0x007ff751800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1ffe PSN 0xe6a5bd OUT 0x10 RKey 0x182f00 VAddr 0x007ff752000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1fff PSN 0xf0b4db OUT 0x10 RKey 0x182f00 VAddr 0x007ff752800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2000 PSN 0xc7849e OUT 0x10 RKey 0x182f00 VAddr 0x007ff753000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2001 PSN 0x86a73f OUT 0x10 RKey 0x182f00 VAddr 0x007ff753800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2002 PSN 0x7aa977 OUT 0x10 RKey 0x182f00 VAddr 0x007ff754000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2003 PSN 0xf58f2d OUT 0x10 RKey 0x182f00 VAddr 0x007ff754800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2004 PSN 0xbd99cd OUT 0x10 RKey 0x182f00 VAddr 0x007ff755000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2005 PSN 0x1f6adc OUT 0x10 RKey 0x182f00 VAddr 0x007ff755800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2006 PSN 0x3b1598 OUT 0x10 RKey 0x182f00 VAddr 0x007ff756000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2007 PSN 0xfaab65 OUT 0x10 RKey 0x182f00 VAddr 0x007ff756800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2008 PSN 0x533cbf OUT 0x10 RKey 0x182f00 VAddr 0x007ff757000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x2009 PSN 0x624717 OUT 0x10 RKey 0x182f00 VAddr 0x007ff757800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1ffa PSN 0x2f2599 OUT 0x10 RKey 0x183000 VAddr 0x007fd4d6000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1ffb PSN 0x245546 OUT 0x10 RKey 0x183000 VAddr 0x007fd4d6800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1ffc PSN 0x9840e2 OUT 0x10 RKey 0x183000 VAddr 0x007fd4d7000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1ffd PSN 0x26d852 OUT 0x10 RKey 0x183000 VAddr 0x007fd4d7800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1ffe PSN 0x63f034 OUT 0x10 RKey 0x183000 VAddr 0x007fd4d8000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1fff PSN 0x6de050 OUT 0x10 RKey 0x183000 VAddr 0x007fd4d8800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2000 PSN 0x83b039 OUT 0x10 RKey 0x183000 VAddr 0x007fd4d9000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2001 PSN 0x400708 OUT 0x10 RKey 0x183000 VAddr 0x007fd4d9800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2002 PSN 0x4c94d6 OUT 0x10 RKey 0x183000 VAddr 0x007fd4da000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2003 PSN 0xebad69 OUT 0x10 RKey 0x183000 VAddr 0x007fd4da800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2004 PSN 0x78d48f OUT 0x10 RKey 0x183000 VAddr 0x007fd4db000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2005 PSN 0xf02ead OUT 0x10 RKey 0x183000 VAddr 0x007fd4db800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2006 PSN 0x41c85f OUT 0x10 RKey 0x183000 VAddr 0x007fd4dc000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2007 PSN 0x7120e9 OUT 0x10 RKey 0x183000 VAddr 0x007fd4dc800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2008 PSN 0x7e5129 OUT 0x10 RKey 0x183000 VAddr 0x007fd4dd000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x2009 PSN 0x3fa76f OUT 0x10 RKey 0x183000 VAddr 0x007fd4dd800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.075789            0.074416            4.650974
 4          16000            0.16               0.16   		     5.080720
 8          16000            0.33               0.32   		     5.062154
 16         16000            0.65               0.65   		     5.054334
 32         16000            1.30               1.30   		     5.077689
 64         16000            2.61               2.60   		     5.085225
 128        16000            5.21               5.19   		     5.067605
 256        16000            10.36              10.31  		     5.034629
 512        16000            20.80              20.68  		     5.047621
 1024       16000            41.61              41.46  		     5.061305
 2048       16000            82.47              82.21  		     5.017578
 4096       16000            165.68             165.13 		     5.039477
 8192       16000            201.44             201.10 		     3.068485
 16384      16000            200.62             200.58 		     1.530313
 32768      16000            195.76             195.73 		     0.746649
 65536      16000            201.06             201.06 		     0.383491
 131072     16000            198.93             198.70 		     0.189496
 262144     16000            201.09             201.09 		     0.095886
 524288     16000            200.82             200.82 		     0.047879
 1048576    16000            200.44             200.40 		     0.023890
 2097152    16000            191.22             189.54 		     0.011297
 4194304    16000            167.31             167.31 		     0.004986
 8388608    16000            166.74             166.47 		     0.002481
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007ff748000000
destroying current CUDA Ctx
