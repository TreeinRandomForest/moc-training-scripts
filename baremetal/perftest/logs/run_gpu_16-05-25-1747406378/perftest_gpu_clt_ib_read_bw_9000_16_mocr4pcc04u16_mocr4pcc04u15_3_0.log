initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 0
[pid = 65544, dev = 0] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f5b34000000 pointer=0x7f5b34000000
using DMA-BUF for GPU buffer address at 0x7f5b34000000 aligned at 0x7f5b34000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f5b34000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 5
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x23ea PSN 0x6f94b2 OUT 0x10 RKey 0x182f00 VAddr 0x007f5b3c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x23eb PSN 0xf9a5b4 OUT 0x10 RKey 0x182f00 VAddr 0x007f5b3c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x23ec PSN 0x8cc6ee OUT 0x10 RKey 0x182f00 VAddr 0x007f5b3d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x23ed PSN 0x3926a5 OUT 0x10 RKey 0x182f00 VAddr 0x007f5b3d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x23ee PSN 0x9b6854 OUT 0x10 RKey 0x182f00 VAddr 0x007f5b3e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x23ef PSN 0xef3926 OUT 0x10 RKey 0x182f00 VAddr 0x007f5b3e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x23f0 PSN 0x253a8d OUT 0x10 RKey 0x182f00 VAddr 0x007f5b3f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x23f1 PSN 0x35d802 OUT 0x10 RKey 0x182f00 VAddr 0x007f5b3f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x23f2 PSN 0xa59e7e OUT 0x10 RKey 0x182f00 VAddr 0x007f5b40000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x23f3 PSN 0xd82d28 OUT 0x10 RKey 0x182f00 VAddr 0x007f5b40800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x23f4 PSN 0x8e5fac OUT 0x10 RKey 0x182f00 VAddr 0x007f5b41000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x23f5 PSN 0x5e04cf OUT 0x10 RKey 0x182f00 VAddr 0x007f5b41800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x23f6 PSN 0x36f40f OUT 0x10 RKey 0x182f00 VAddr 0x007f5b42000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x23f7 PSN 0xcb4e10 OUT 0x10 RKey 0x182f00 VAddr 0x007f5b42800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x23f8 PSN 0xf2218e OUT 0x10 RKey 0x182f00 VAddr 0x007f5b43000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x23f9 PSN 0x6fad3a OUT 0x10 RKey 0x182f00 VAddr 0x007f5b43800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x23ea PSN 0x883bda OUT 0x10 RKey 0x183000 VAddr 0x007fba30000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x23eb PSN 0x86c1bc OUT 0x10 RKey 0x183000 VAddr 0x007fba30800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x23ec PSN 0x30e656 OUT 0x10 RKey 0x183000 VAddr 0x007fba31000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x23ed PSN 0x31f5ed OUT 0x10 RKey 0x183000 VAddr 0x007fba31800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x23ee PSN 0x2659fc OUT 0x10 RKey 0x183000 VAddr 0x007fba32000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x23ef PSN 0x150dae OUT 0x10 RKey 0x183000 VAddr 0x007fba32800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x23f0 PSN 0x92e875 OUT 0x10 RKey 0x183000 VAddr 0x007fba33000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x23f1 PSN 0x753ca OUT 0x10 RKey 0x183000 VAddr 0x007fba33800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x23f2 PSN 0x6d02a6 OUT 0x10 RKey 0x183000 VAddr 0x007fba34000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x23f3 PSN 0x99c230 OUT 0x10 RKey 0x183000 VAddr 0x007fba34800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x23f4 PSN 0x400414 OUT 0x10 RKey 0x183000 VAddr 0x007fba35000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x23f5 PSN 0x967517 OUT 0x10 RKey 0x183000 VAddr 0x007fba35800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x23f6 PSN 0x7f72b7 OUT 0x10 RKey 0x183000 VAddr 0x007fba36000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x23f7 PSN 0x542b98 OUT 0x10 RKey 0x183000 VAddr 0x007fba36800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x23f8 PSN 0xa0a476 OUT 0x10 RKey 0x183000 VAddr 0x007fba37000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x23f9 PSN 0x39da02 OUT 0x10 RKey 0x183000 VAddr 0x007fba37800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.055728            0.055193            3.449584
 4          16000            0.11               0.11   		     3.527531
 8          16000            0.23               0.23   		     3.525230
 16         16000            0.45               0.45   		     3.526474
 32         16000            0.90               0.90   		     3.523181
 64         16000            1.81               1.81   		     3.533608
 128        16000            3.61               3.60   		     3.511251
 256        16000            7.23               7.21   		     3.518231
 512        16000            14.51              14.44  		     3.525378
 1024       16000            28.80              28.74  		     3.508033
 2048       16000            56.80              56.46  		     3.445862
 4096       16000            84.07              71.74  		     2.189289
 8192       16000            174.50             103.41 		     1.577962
 16384      16000            197.00             196.92 		     1.502350
 32768      16000            197.33             197.29 		     0.752601
 65536      16000            197.43             197.41 		     0.376530
 131072     16000            196.99             196.99 		     0.187860
 262144     16000            193.68             193.68 		     0.092353
 524288     16000            194.97             194.97 		     0.046484
 1048576    16000            196.23             196.23 		     0.023393
 2097152    16000            184.37             184.37 		     0.010989
 4194304    16000            163.26             163.26 		     0.004866
 8388608    16000            163.26             163.26 		     0.002433
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f5b34000000
destroying current CUDA Ctx
