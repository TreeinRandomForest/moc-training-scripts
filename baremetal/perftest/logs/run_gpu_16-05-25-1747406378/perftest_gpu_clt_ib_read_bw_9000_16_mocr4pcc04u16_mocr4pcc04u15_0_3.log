initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 3
[pid = 59386, dev = 3] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f09e4000000 pointer=0x7f09e4000000
using DMA-BUF for GPU buffer address at 0x7f09e4000000 aligned at 0x7f09e4000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f09e4000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 5
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x1f7c PSN 0xe03153 OUT 0x10 RKey 0x182f00 VAddr 0x007f09ec000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f7d PSN 0x10fc41 OUT 0x10 RKey 0x182f00 VAddr 0x007f09ec800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f7e PSN 0x3b4ef7 OUT 0x10 RKey 0x182f00 VAddr 0x007f09ed000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f7f PSN 0xd287a OUT 0x10 RKey 0x182f00 VAddr 0x007f09ed800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f80 PSN 0xe18e05 OUT 0x10 RKey 0x182f00 VAddr 0x007f09ee000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f81 PSN 0xd64b83 OUT 0x10 RKey 0x182f00 VAddr 0x007f09ee800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f82 PSN 0xc39a26 OUT 0x10 RKey 0x182f00 VAddr 0x007f09ef000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f83 PSN 0x940227 OUT 0x10 RKey 0x182f00 VAddr 0x007f09ef800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f84 PSN 0xb6ce3f OUT 0x10 RKey 0x182f00 VAddr 0x007f09f0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f85 PSN 0xfce855 OUT 0x10 RKey 0x182f00 VAddr 0x007f09f0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f86 PSN 0xd87fd5 OUT 0x10 RKey 0x182f00 VAddr 0x007f09f1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f87 PSN 0x9e8c44 OUT 0x10 RKey 0x182f00 VAddr 0x007f09f1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f88 PSN 0x3fbee0 OUT 0x10 RKey 0x182f00 VAddr 0x007f09f2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f89 PSN 0x6d6f0d OUT 0x10 RKey 0x182f00 VAddr 0x007f09f2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f8a PSN 0xd97b47 OUT 0x10 RKey 0x182f00 VAddr 0x007f09f3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x1f8b PSN 0x1916ff OUT 0x10 RKey 0x182f00 VAddr 0x007f09f3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x1f7c PSN 0x4fd367 OUT 0x10 RKey 0x183000 VAddr 0x007f2178000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f7d PSN 0xa6f6c5 OUT 0x10 RKey 0x183000 VAddr 0x007f2178800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f7e PSN 0xd9912b OUT 0x10 RKey 0x183000 VAddr 0x007f2179000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f7f PSN 0xda109e OUT 0x10 RKey 0x183000 VAddr 0x007f2179800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f80 PSN 0xe0bd59 OUT 0x10 RKey 0x183000 VAddr 0x007f217a000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f81 PSN 0x72ea47 OUT 0x10 RKey 0x183000 VAddr 0x007f217a800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f82 PSN 0xc74b9a OUT 0x10 RKey 0x183000 VAddr 0x007f217b000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f83 PSN 0x84c88b OUT 0x10 RKey 0x183000 VAddr 0x007f217b800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f84 PSN 0xa91ed3 OUT 0x10 RKey 0x183000 VAddr 0x007f217c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f85 PSN 0xfe2f59 OUT 0x10 RKey 0x183000 VAddr 0x007f217c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f86 PSN 0xe15489 OUT 0x10 RKey 0x183000 VAddr 0x007f217d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f87 PSN 0x6ad4e8 OUT 0x10 RKey 0x183000 VAddr 0x007f217d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f88 PSN 0xae04b4 OUT 0x10 RKey 0x183000 VAddr 0x007f217e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f89 PSN 0x8da251 OUT 0x10 RKey 0x183000 VAddr 0x007f217e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f8a PSN 0x4e673b OUT 0x10 RKey 0x183000 VAddr 0x007f217f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x1f8b PSN 0xcec5e3 OUT 0x10 RKey 0x183000 VAddr 0x007f217f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.058252            0.057305            3.581534
 4          16000            0.12               0.12   		     3.668605
 8          16000            0.24               0.23   		     3.662769
 16         16000            0.47               0.47   		     3.679828
 32         16000            0.95               0.94   		     3.666680
 64         16000            1.88               1.87   		     3.657419
 128        16000            3.78               3.76   		     3.673230
 256        16000            7.55               7.49   		     3.657979
 512        16000            15.06              15.01  		     3.664203
 1024       16000            30.07              29.96  		     3.657503
 2048       16000            58.98              58.63  		     3.578682
 4096       16000            120.67             120.23 		     3.669178
 8192       16000            192.00             191.88 		     2.927797
 16384      16000            196.61             196.55 		     1.499543
 32768      16000            207.17             207.13 		     0.790148
 65536      16000            209.53             209.50 		     0.399592
 131072     16000            208.88             208.88 		     0.199200
 262144     16000            209.20             209.20 		     0.099753
 524288     16000            209.38             209.38 		     0.049921
 1048576    16000            209.38             209.38 		     0.024959
 2097152    16000            194.39             194.38 		     0.011586
 4194304    16000            171.15             171.15 		     0.005101
 8388608    16000            171.09             171.09 		     0.002549
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f09e4000000
destroying current CUDA Ctx
