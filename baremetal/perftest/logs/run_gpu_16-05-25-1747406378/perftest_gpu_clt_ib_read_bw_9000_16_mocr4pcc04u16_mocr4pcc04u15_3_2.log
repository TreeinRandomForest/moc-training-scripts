initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 2
[pid = 66902, dev = 2] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f94f8000000 pointer=0x7f94f8000000
using DMA-BUF for GPU buffer address at 0x7f94f8000000 aligned at 0x7f94f8000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f94f8000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 5
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x24e6 PSN 0x30050a OUT 0x10 RKey 0x182f00 VAddr 0x007f9500000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x24e7 PSN 0xf88b2c OUT 0x10 RKey 0x182f00 VAddr 0x007f9500800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x24e8 PSN 0xde4b06 OUT 0x10 RKey 0x182f00 VAddr 0x007f9501000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x24e9 PSN 0xbbf4dd OUT 0x10 RKey 0x182f00 VAddr 0x007f9501800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x24ea PSN 0x33862c OUT 0x10 RKey 0x182f00 VAddr 0x007f9502000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x24eb PSN 0xa3fe1e OUT 0x10 RKey 0x182f00 VAddr 0x007f9502800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x24ec PSN 0xb3e825 OUT 0x10 RKey 0x182f00 VAddr 0x007f9503000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x24ed PSN 0xc51ba OUT 0x10 RKey 0x182f00 VAddr 0x007f9503800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x24ee PSN 0xf2c1d6 OUT 0x10 RKey 0x182f00 VAddr 0x007f9504000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x24ef PSN 0x9149a0 OUT 0x10 RKey 0x182f00 VAddr 0x007f9504800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x24f0 PSN 0x934ec4 OUT 0x10 RKey 0x182f00 VAddr 0x007f9505000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x24f1 PSN 0x676207 OUT 0x10 RKey 0x182f00 VAddr 0x007f9505800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x24f2 PSN 0x93f4e7 OUT 0x10 RKey 0x182f00 VAddr 0x007f9506000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x24f3 PSN 0x46ba08 OUT 0x10 RKey 0x182f00 VAddr 0x007f9506800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x24f4 PSN 0x1fea26 OUT 0x10 RKey 0x182f00 VAddr 0x007f9507000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x24f5 PSN 0x46a5f2 OUT 0x10 RKey 0x182f00 VAddr 0x007f9507800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x24e6 PSN 0x7c27dc OUT 0x10 RKey 0x183000 VAddr 0x007fc96c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x24e7 PSN 0x440a96 OUT 0x10 RKey 0x183000 VAddr 0x007fc96c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x24e8 PSN 0x34c728 OUT 0x10 RKey 0x183000 VAddr 0x007fc96d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x24e9 PSN 0x6d5b57 OUT 0x10 RKey 0x183000 VAddr 0x007fc96d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x24ea PSN 0x45c41e OUT 0x10 RKey 0x183000 VAddr 0x007fc96e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x24eb PSN 0x27ca28 OUT 0x10 RKey 0x183000 VAddr 0x007fc96e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x24ec PSN 0x5ac467 OUT 0x10 RKey 0x183000 VAddr 0x007fc96f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x24ed PSN 0xd365d4 OUT 0x10 RKey 0x183000 VAddr 0x007fc96f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x24ee PSN 0xbdace8 OUT 0x10 RKey 0x183000 VAddr 0x007fc970000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x24ef PSN 0xc18c4a OUT 0x10 RKey 0x183000 VAddr 0x007fc970800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x24f0 PSN 0xbc6d26 OUT 0x10 RKey 0x183000 VAddr 0x007fc971000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x24f1 PSN 0x8d5dc1 OUT 0x10 RKey 0x183000 VAddr 0x007fc971800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x24f2 PSN 0x613f19 OUT 0x10 RKey 0x183000 VAddr 0x007fc972000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x24f3 PSN 0x703d52 OUT 0x10 RKey 0x183000 VAddr 0x007fc972800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x24f4 PSN 0xf94ca8 OUT 0x10 RKey 0x183000 VAddr 0x007fc973000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x24f5 PSN 0x2e634c OUT 0x10 RKey 0x183000 VAddr 0x007fc973800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.057878            0.057685            3.605293
 4          16000            0.12               0.12   		     3.614031
 8          16000            0.23               0.23   		     3.611078
 16         16000            0.46               0.46   		     3.611404
 32         16000            0.93               0.92   		     3.612097
 64         16000            1.86               1.85   		     3.618984
 128        16000            3.71               3.70   		     3.610312
 256        16000            7.43               7.41   		     3.617168
 512        16000            14.58              13.99  		     3.415687
 1024       16000            29.59              29.45  		     3.595013
 2048       16000            58.24              57.85  		     3.530629
 4096       16000            115.38             73.07  		     2.229856
 8192       16000            189.53             189.28 		     2.888248
 16384      16000            193.51             193.39 		     1.475476
 32768      16000            189.05             170.57 		     0.650664
 65536      16000            196.44             196.41 		     0.374629
 131072     16000            190.53             188.31 		     0.179582
 262144     16000            192.10             192.10 		     0.091600
 524288     16000            194.87             194.87 		     0.046460
 1048576    16000            197.58             197.58 		     0.023554
 2097152    16000            184.43             184.43 		     0.010993
 4194304    16000            163.00             163.00 		     0.004858
 8388608    16000            163.08             163.08 		     0.002430
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f94f8000000
destroying current CUDA Ctx
