initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 3
[pid = 24766, dev = 3] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007fab4e000000 pointer=0x7fab4e000000
using DMA-BUF for GPU buffer address at 0x7fab4e000000 aligned at 0x7fab4e000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7fab4e000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x0198 PSN 0xe79cd5 OUT 0x10 RKey 0x182e00 VAddr 0x007fab56000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0199 PSN 0xa88e9b OUT 0x10 RKey 0x182e00 VAddr 0x007fab56800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x019a PSN 0x397b49 OUT 0x10 RKey 0x182e00 VAddr 0x007fab57000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x019b PSN 0xafb364 OUT 0x10 RKey 0x182e00 VAddr 0x007fab57800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x019c PSN 0x9cefa7 OUT 0x10 RKey 0x182e00 VAddr 0x007fab58000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x019d PSN 0xae697d OUT 0x10 RKey 0x182e00 VAddr 0x007fab58800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x019e PSN 0x2ef998 OUT 0x10 RKey 0x182e00 VAddr 0x007fab59000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x019f PSN 0x2411b1 OUT 0x10 RKey 0x182e00 VAddr 0x007fab59800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01a0 PSN 0x3b6801 OUT 0x10 RKey 0x182e00 VAddr 0x007fab5a000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01a1 PSN 0x6eabef OUT 0x10 RKey 0x182e00 VAddr 0x007fab5a800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01a2 PSN 0xfd2467 OUT 0x10 RKey 0x182e00 VAddr 0x007fab5b000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01a3 PSN 0xabca6e OUT 0x10 RKey 0x182e00 VAddr 0x007fab5b800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01a4 PSN 0x74f2c2 OUT 0x10 RKey 0x182e00 VAddr 0x007fab5c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01a5 PSN 0x99247 OUT 0x10 RKey 0x182e00 VAddr 0x007fab5c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01a6 PSN 0x7296f9 OUT 0x10 RKey 0x182e00 VAddr 0x007fab5d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01a7 PSN 0x43cdc9 OUT 0x10 RKey 0x182e00 VAddr 0x007fab5d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0198 PSN 0x678a02 OUT 0x10 RKey 0x182e00 VAddr 0x007f6b0e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0199 PSN 0x296bfb OUT 0x10 RKey 0x182e00 VAddr 0x007f6b0e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x019a PSN 0x589f3 OUT 0x10 RKey 0x182e00 VAddr 0x007f6b0f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x019b PSN 0x3a8f OUT 0x10 RKey 0x182e00 VAddr 0x007f6b0f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x019c PSN 0x71922d OUT 0x10 RKey 0x182e00 VAddr 0x007f6b10000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x019d PSN 0x4d8d55 OUT 0x10 RKey 0x182e00 VAddr 0x007f6b10800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x019e PSN 0xced95a OUT 0x10 RKey 0x182e00 VAddr 0x007f6b11000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x019f PSN 0xa03015 OUT 0x10 RKey 0x182e00 VAddr 0x007f6b11800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01a0 PSN 0x1bbd5f OUT 0x10 RKey 0x182e00 VAddr 0x007f6b12000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01a1 PSN 0xd705be OUT 0x10 RKey 0x182e00 VAddr 0x007f6b12800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01a2 PSN 0x65cec0 OUT 0x10 RKey 0x182e00 VAddr 0x007f6b13000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01a3 PSN 0xcabb8a OUT 0x10 RKey 0x182e00 VAddr 0x007f6b13800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01a4 PSN 0x9a5078 OUT 0x10 RKey 0x182e00 VAddr 0x007f6b14000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01a5 PSN 0x75898e OUT 0x10 RKey 0x182e00 VAddr 0x007f6b14800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01a6 PSN 0x7f1d6a OUT 0x10 RKey 0x182e00 VAddr 0x007f6b15000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01a7 PSN 0x5051c OUT 0x10 RKey 0x182e00 VAddr 0x007f6b15800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.082005            0.081731            5.108198
 4          16000            0.17               0.17   		     5.220501
 8          16000            0.34               0.33   		     5.219922
 16         16000            0.67               0.67   		     5.219394
 32         16000            1.34               1.33   		     5.205707
 64         16000            2.68               2.67   		     5.215396
 128        16000            5.31               5.28   		     5.159260
 256        16000            10.69              10.64  		     5.197387
 512        16000            21.33              21.25  		     5.187378
 1024       16000            42.67              42.52  		     5.190154
 2048       16000            83.78              82.88  		     5.058345
 4096       16000            168.33             167.86 		     5.122754
 8192       16000            207.97             207.89 		     3.172078
 16384      16000            209.01             208.99 		     1.594453
 32768      16000            209.53             209.46 		     0.799029
 65536      16000            209.31             209.29 		     0.399189
 131072     16000            209.51             209.50 		     0.199790
 262144     16000            209.56             209.55 		     0.099921
 524288     16000            209.60             209.60 		     0.049973
 1048576    16000            209.61             209.61 		     0.024987
 2097152    16000            192.55             192.53 		     0.011476
 4194304    16000            171.23             171.23 		     0.005103
 8388608    16000            171.24             171.24 		     0.002552
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007fab4e000000
destroying current CUDA Ctx
