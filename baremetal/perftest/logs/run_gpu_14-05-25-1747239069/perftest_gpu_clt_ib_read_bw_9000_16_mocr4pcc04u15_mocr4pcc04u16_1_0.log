initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 0
[pid = 24879, dev = 0] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f1204000000 pointer=0x7f1204000000
using DMA-BUF for GPU buffer address at 0x7f1204000000 aligned at 0x7f1204000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f1204000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x01b8 PSN 0xdfe3e8 OUT 0x10 RKey 0x182e00 VAddr 0x007f120c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01b9 PSN 0x3456e9 OUT 0x10 RKey 0x182e00 VAddr 0x007f120c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01ba PSN 0x256549 OUT 0x10 RKey 0x182e00 VAddr 0x007f120d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01bb PSN 0xe7e22d OUT 0x10 RKey 0x182e00 VAddr 0x007f120d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01bc PSN 0x53e473 OUT 0x10 RKey 0x182e00 VAddr 0x007f120e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01bd PSN 0x1d7923 OUT 0x10 RKey 0x182e00 VAddr 0x007f120e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01be PSN 0x195410 OUT 0x10 RKey 0x182e00 VAddr 0x007f120f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01bf PSN 0x5df393 OUT 0x10 RKey 0x182e00 VAddr 0x007f120f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01c0 PSN 0xb32e05 OUT 0x10 RKey 0x182e00 VAddr 0x007f1210000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01c1 PSN 0x8f206c OUT 0x10 RKey 0x182e00 VAddr 0x007f1210800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01c2 PSN 0x297ed6 OUT 0x10 RKey 0x182e00 VAddr 0x007f1211000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01c3 PSN 0x9878e8 OUT 0x10 RKey 0x182e00 VAddr 0x007f1211800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01c4 PSN 0xfe657e OUT 0x10 RKey 0x182e00 VAddr 0x007f1212000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01c5 PSN 0x7de11c OUT 0x10 RKey 0x182e00 VAddr 0x007f1212800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01c6 PSN 0x9df8e0 OUT 0x10 RKey 0x182e00 VAddr 0x007f1213000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x01c7 PSN 0x1c7a5a OUT 0x10 RKey 0x182e00 VAddr 0x007f1213800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x01b8 PSN 0x5fe4d4 OUT 0x10 RKey 0x182e00 VAddr 0x007fa77c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01b9 PSN 0xa2502e OUT 0x10 RKey 0x182e00 VAddr 0x007fa77c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01ba PSN 0xfef8e0 OUT 0x10 RKey 0x182e00 VAddr 0x007fa77d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01bb PSN 0xcfd6af OUT 0x10 RKey 0x182e00 VAddr 0x007fa77d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01bc PSN 0x255896 OUT 0x10 RKey 0x182e00 VAddr 0x007fa77e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01bd PSN 0x5dd140 OUT 0x10 RKey 0x182e00 VAddr 0x007fa77e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01be PSN 0xdb599f OUT 0x10 RKey 0x182e00 VAddr 0x007fa77f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01bf PSN 0x433eac OUT 0x10 RKey 0x182e00 VAddr 0x007fa77f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01c0 PSN 0x4f10e0 OUT 0x10 RKey 0x182e00 VAddr 0x007fa780000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01c1 PSN 0x19ece2 OUT 0x10 RKey 0x182e00 VAddr 0x007fa780800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01c2 PSN 0x461dde OUT 0x10 RKey 0x182e00 VAddr 0x007fa781000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01c3 PSN 0x92ec19 OUT 0x10 RKey 0x182e00 VAddr 0x007fa781800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01c4 PSN 0xc1ea91 OUT 0x10 RKey 0x182e00 VAddr 0x007fa782000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01c5 PSN 0x470f6a OUT 0x10 RKey 0x182e00 VAddr 0x007fa782800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01c6 PSN 0x5250e0 OUT 0x10 RKey 0x182e00 VAddr 0x007fa783000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x01c7 PSN 0x7f7f24 OUT 0x10 RKey 0x182e00 VAddr 0x007fa783800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.080899            0.080317            5.019813
 4          16000            0.17               0.16   		     5.142297
 8          16000            0.33               0.33   		     5.129882
 16         16000            0.66               0.66   		     5.131840
 32         16000            1.32               1.32   		     5.138152
 64         16000            2.65               2.63   		     5.142743
 128        16000            5.27               5.26   		     5.132169
 256        16000            10.54              10.48  		     5.119131
 512        16000            20.94              20.89  		     5.099168
 1024       16000            42.18              42.01  		     5.128600
 2048       16000            83.78              83.54  		     5.098610
 4096       16000            164.57             163.31 		     4.983834
 8192       16000            201.72             201.66 		     3.077106
 16384      16000            202.69             202.66 		     1.546170
 32768      16000            202.97             202.94 		     0.774165
 65536      16000            203.07             203.04 		     0.387268
 131072     16000            203.09             203.08 		     0.193675
 262144     16000            203.12             203.12 		     0.096856
 524288     16000            203.16             203.15 		     0.048435
 1048576    16000            203.18             203.17 		     0.024220
 2097152    16000            189.86             189.86 		     0.011317
 4194304    16000            169.88             169.88 		     0.005063
 8388608    16000            169.85             169.85 		     0.002531
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f1204000000
destroying current CUDA Ctx
