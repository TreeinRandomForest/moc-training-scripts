initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 0
[pid = 24418, dev = 0] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007fb064000000 pointer=0x7fb064000000
using DMA-BUF for GPU buffer address at 0x7fb064000000 aligned at 0x7fb064000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7fb064000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x0138 PSN 0xa7d729 OUT 0x10 RKey 0x182eed VAddr 0x007fb06c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0139 PSN 0x58dc5f OUT 0x10 RKey 0x182eed VAddr 0x007fb06c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x013a PSN 0xd8afbd OUT 0x10 RKey 0x182eed VAddr 0x007fb06d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x013b PSN 0x8940c8 OUT 0x10 RKey 0x182eed VAddr 0x007fb06d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x013c PSN 0x75fb3b OUT 0x10 RKey 0x182eed VAddr 0x007fb06e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x013d PSN 0xef4f81 OUT 0x10 RKey 0x182eed VAddr 0x007fb06e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x013e PSN 0x28814c OUT 0x10 RKey 0x182eed VAddr 0x007fb06f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x013f PSN 0x3e9155 OUT 0x10 RKey 0x182eed VAddr 0x007fb06f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0140 PSN 0x6118d5 OUT 0x10 RKey 0x182eed VAddr 0x007fb070000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0141 PSN 0xc96e33 OUT 0x10 RKey 0x182eed VAddr 0x007fb070800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0142 PSN 0xdaf35b OUT 0x10 RKey 0x182eed VAddr 0x007fb071000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0143 PSN 0xfc2052 OUT 0x10 RKey 0x182eed VAddr 0x007fb071800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0144 PSN 0x45cd6 OUT 0x10 RKey 0x182eed VAddr 0x007fb072000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0145 PSN 0xd7b4cb OUT 0x10 RKey 0x182eed VAddr 0x007fb072800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0146 PSN 0xe9e12d OUT 0x10 RKey 0x182eed VAddr 0x007fb073000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0147 PSN 0xa91ded OUT 0x10 RKey 0x182eed VAddr 0x007fb073800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0138 PSN 0xe34212 OUT 0x10 RKey 0x182eed VAddr 0x007fd06c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0139 PSN 0xf52acb OUT 0x10 RKey 0x182eed VAddr 0x007fd06c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x013a PSN 0xf4a883 OUT 0x10 RKey 0x182eed VAddr 0x007fd06d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x013b PSN 0x59ddf OUT 0x10 RKey 0x182eed VAddr 0x007fd06d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x013c PSN 0xb6bb3d OUT 0x10 RKey 0x182eed VAddr 0x007fd06e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x013d PSN 0x646925 OUT 0x10 RKey 0x182eed VAddr 0x007fd06e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x013e PSN 0xc750ea OUT 0x10 RKey 0x182eed VAddr 0x007fd06f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x013f PSN 0x967865 OUT 0x10 RKey 0x182eed VAddr 0x007fd06f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0140 PSN 0xb0676f OUT 0x10 RKey 0x182eed VAddr 0x007fd070000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0141 PSN 0xadce8e OUT 0x10 RKey 0x182eed VAddr 0x007fd070800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0142 PSN 0x42f50 OUT 0x10 RKey 0x182eed VAddr 0x007fd071000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0143 PSN 0xbb38da OUT 0x10 RKey 0x182eed VAddr 0x007fd071800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0144 PSN 0x558b88 OUT 0x10 RKey 0x182eed VAddr 0x007fd072000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0145 PSN 0xfe0f5e OUT 0x10 RKey 0x182eed VAddr 0x007fd072800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0146 PSN 0x98f6fa OUT 0x10 RKey 0x182eed VAddr 0x007fd073000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0147 PSN 0x3e076c OUT 0x10 RKey 0x182eed VAddr 0x007fd073800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.081818            0.079857            4.991094
 4          16000            0.17               0.17   		     5.216909
 8          16000            0.34               0.34   		     5.234523
 16         16000            0.67               0.67   		     5.226692
 32         16000            1.34               1.33   		     5.211176
 64         16000            2.68               2.67   		     5.218594
 128        16000            5.36               5.33   		     5.209062
 256        16000            10.72              10.68  		     5.212762
 512        16000            21.33              21.21  		     5.177809
 1024       16000            42.77              42.60  		     5.199735
 2048       16000            84.94              84.81  		     5.176435
 4096       16000            169.88             169.68 		     5.178078
 8192       16000            207.98             207.78 		     3.170477
 16384      16000            208.12             207.99 		     1.586865
 32768      16000            209.53             209.46 		     0.799021
 65536      16000            209.31             209.27 		     0.399160
 131072     16000            209.49             209.48 		     0.199779
 262144     16000            209.55             209.54 		     0.099916
 524288     16000            209.60             209.60 		     0.049972
 1048576    16000            209.61             209.61 		     0.024988
 2097152    16000            192.97             192.97 		     0.011502
 4194304    16000            171.19             171.19 		     0.005102
 8388608    16000            171.24             171.24 		     0.002552
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007fb064000000
destroying current CUDA Ctx
