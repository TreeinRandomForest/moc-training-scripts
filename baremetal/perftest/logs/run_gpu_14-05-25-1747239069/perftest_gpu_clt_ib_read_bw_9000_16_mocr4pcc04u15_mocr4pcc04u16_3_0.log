initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 0
[pid = 25801, dev = 0] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007f400e000000 pointer=0x7f400e000000
using DMA-BUF for GPU buffer address at 0x7f400e000000 aligned at 0x7f400e000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7f400e000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x02b8 PSN 0xc34dec OUT 0x10 RKey 0x182e00 VAddr 0x007f4016000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02b9 PSN 0x819f66 OUT 0x10 RKey 0x182e00 VAddr 0x007f4016800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02ba PSN 0xe003b8 OUT 0x10 RKey 0x182e00 VAddr 0x007f4017000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02bb PSN 0x7f84a7 OUT 0x10 RKey 0x182e00 VAddr 0x007f4017800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02bc PSN 0xdf3b2e OUT 0x10 RKey 0x182e00 VAddr 0x007f4018000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02bd PSN 0x37dbf8 OUT 0x10 RKey 0x182e00 VAddr 0x007f4018800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02be PSN 0xf339f7 OUT 0x10 RKey 0x182e00 VAddr 0x007f4019000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02bf PSN 0x1cd424 OUT 0x10 RKey 0x182e00 VAddr 0x007f4019800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02c0 PSN 0xdd84f8 OUT 0x10 RKey 0x182e00 VAddr 0x007f401a000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02c1 PSN 0x2eeb1a OUT 0x10 RKey 0x182e00 VAddr 0x007f401a800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02c2 PSN 0x3cabb6 OUT 0x10 RKey 0x182e00 VAddr 0x007f401b000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02c3 PSN 0x1d6111 OUT 0x10 RKey 0x182e00 VAddr 0x007f401b800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02c4 PSN 0x6c8829 OUT 0x10 RKey 0x182e00 VAddr 0x007f401c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02c5 PSN 0xa2b922 OUT 0x10 RKey 0x182e00 VAddr 0x007f401c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02c6 PSN 0x74e438 OUT 0x10 RKey 0x182e00 VAddr 0x007f401d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02c7 PSN 0xb94b9c OUT 0x10 RKey 0x182e00 VAddr 0x007f401d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x02b8 PSN 0x40a828 OUT 0x10 RKey 0x182e00 VAddr 0x007f59d6000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02b9 PSN 0x42f2f2 OUT 0x10 RKey 0x182e00 VAddr 0x007f59d6800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02ba PSN 0x505e54 OUT 0x10 RKey 0x182e00 VAddr 0x007f59d7000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02bb PSN 0x8e4113 OUT 0x10 RKey 0x182e00 VAddr 0x007f59d7800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02bc PSN 0xfe7d2a OUT 0x10 RKey 0x182e00 VAddr 0x007f59d8000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02bd PSN 0x1f5c44 OUT 0x10 RKey 0x182e00 VAddr 0x007f59d8800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02be PSN 0xd92253 OUT 0x10 RKey 0x182e00 VAddr 0x007f59d9000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02bf PSN 0x936b50 OUT 0x10 RKey 0x182e00 VAddr 0x007f59d9800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02c0 PSN 0xbd6ab4 OUT 0x10 RKey 0x182e00 VAddr 0x007f59da000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02c1 PSN 0x3aa426 OUT 0x10 RKey 0x182e00 VAddr 0x007f59da800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02c2 PSN 0x8b3dd2 OUT 0x10 RKey 0x182e00 VAddr 0x007f59db000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02c3 PSN 0xa6befd OUT 0x10 RKey 0x182e00 VAddr 0x007f59db800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02c4 PSN 0xdb8da5 OUT 0x10 RKey 0x182e00 VAddr 0x007f59dc000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02c5 PSN 0x2576ee OUT 0x10 RKey 0x182e00 VAddr 0x007f59dc800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02c6 PSN 0xb4fc14 OUT 0x10 RKey 0x182e00 VAddr 0x007f59dd000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02c7 PSN 0x431c48 OUT 0x10 RKey 0x182e00 VAddr 0x007f59dd800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.082192            0.081742            5.108883
 4          16000            0.17               0.17   		     5.212779
 8          16000            0.33               0.33   		     5.212388
 16         16000            0.67               0.67   		     5.206571
 32         16000            1.34               1.33   		     5.209894
 64         16000            2.67               2.67   		     5.210776
 128        16000            5.32               5.31   		     5.184588
 256        16000            10.64              10.62  		     5.187092
 512        16000            21.28              21.25  		     5.187042
 1024       16000            42.37              42.19  		     5.150259
 2048       16000            84.94              84.56  		     5.161307
 4096       16000            169.10             168.48 		     5.141752
 8192       16000            195.82             195.66 		     2.985598
 16384      16000            196.87             196.82 		     1.501586
 32768      16000            197.33             197.27 		     0.752510
 65536      16000            197.10             197.07 		     0.375885
 131072     16000            197.25             197.25 		     0.188109
 262144     16000            197.29             197.29 		     0.094074
 524288     16000            197.38             197.37 		     0.047057
 1048576    16000            197.33             197.33 		     0.023523
 2097152    16000            185.09             185.09 		     0.011032
 4194304    16000            163.18             163.18 		     0.004863
 8388608    16000            163.21             163.21 		     0.002432
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007f400e000000
destroying current CUDA Ctx
