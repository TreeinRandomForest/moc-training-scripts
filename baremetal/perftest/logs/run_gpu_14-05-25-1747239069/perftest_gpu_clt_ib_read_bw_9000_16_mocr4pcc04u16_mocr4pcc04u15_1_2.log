initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 2
[pid = 32059, dev = 2] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007efec6000000 pointer=0x7efec6000000
using DMA-BUF for GPU buffer address at 0x7efec6000000 aligned at 0x7efec6000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7efec6000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x03f8 PSN 0xe23ef8 OUT 0x10 RKey 0x182e00 VAddr 0x007efece000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x03f9 PSN 0xc57cb9 OUT 0x10 RKey 0x182e00 VAddr 0x007efece800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x03fa PSN 0xab5ed9 OUT 0x10 RKey 0x182e00 VAddr 0x007efecf000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x03fb PSN 0xea847d OUT 0x10 RKey 0x182e00 VAddr 0x007efecf800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x03fc PSN 0x6e083 OUT 0x10 RKey 0x182e00 VAddr 0x007efed0000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x03fd PSN 0x892bf3 OUT 0x10 RKey 0x182e00 VAddr 0x007efed0800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x03fe PSN 0x5b56a0 OUT 0x10 RKey 0x182e00 VAddr 0x007efed1000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x03ff PSN 0x866ae3 OUT 0x10 RKey 0x182e00 VAddr 0x007efed1800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0400 PSN 0xdfdb15 OUT 0x10 RKey 0x182e00 VAddr 0x007efed2000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0401 PSN 0xd1303c OUT 0x10 RKey 0x182e00 VAddr 0x007efed2800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0402 PSN 0x3f1a66 OUT 0x10 RKey 0x182e00 VAddr 0x007efed3000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0403 PSN 0x4f1538 OUT 0x10 RKey 0x182e00 VAddr 0x007efed3800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0404 PSN 0xeed38e OUT 0x10 RKey 0x182e00 VAddr 0x007efed4000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0405 PSN 0x7f1dec OUT 0x10 RKey 0x182e00 VAddr 0x007efed4800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0406 PSN 0x87bd70 OUT 0x10 RKey 0x182e00 VAddr 0x007efed5000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0407 PSN 0xfe8baa OUT 0x10 RKey 0x182e00 VAddr 0x007efed5800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x03f8 PSN 0xff4760 OUT 0x10 RKey 0x182e00 VAddr 0x007fe54e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x03f9 PSN 0x8f8101 OUT 0x10 RKey 0x182e00 VAddr 0x007fe54e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x03fa PSN 0xe7e181 OUT 0x10 RKey 0x182e00 VAddr 0x007fe54f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x03fb PSN 0xf11605 OUT 0x10 RKey 0x182e00 VAddr 0x007fe54f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x03fc PSN 0xf3076b OUT 0x10 RKey 0x182e00 VAddr 0x007fe550000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x03fd PSN 0xea2cbb OUT 0x10 RKey 0x182e00 VAddr 0x007fe550800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x03fe PSN 0xbc5bc8 OUT 0x10 RKey 0x182e00 VAddr 0x007fe551000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x03ff PSN 0x578ceb OUT 0x10 RKey 0x182e00 VAddr 0x007fe551800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0400 PSN 0xde887d OUT 0x10 RKey 0x182e00 VAddr 0x007fe552000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0401 PSN 0xec7584 OUT 0x10 RKey 0x182e00 VAddr 0x007fe552800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0402 PSN 0x7a4a0e OUT 0x10 RKey 0x182e00 VAddr 0x007fe553000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0403 PSN 0x334fc0 OUT 0x10 RKey 0x182e00 VAddr 0x007fe553800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0404 PSN 0x11ef76 OUT 0x10 RKey 0x182e00 VAddr 0x007fe554000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0405 PSN 0x646fb4 OUT 0x10 RKey 0x182e00 VAddr 0x007fe554800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0406 PSN 0x53f98 OUT 0x10 RKey 0x182e00 VAddr 0x007fe555000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0407 PSN 0x3ee6b2 OUT 0x10 RKey 0x182e00 VAddr 0x007fe555800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.057785            0.057440            3.589995
 4          16000            0.12               0.12   		     3.655054
 8          16000            0.23               0.23   		     3.648012
 16         16000            0.47               0.47   		     3.651367
 32         16000            0.94               0.94   		     3.659435
 64         16000            1.88               1.87   		     3.653727
 128        16000            3.76               3.75   		     3.658598
 256        16000            7.53               7.49   		     3.657561
 512        16000            15.01              14.96  		     3.652526
 1024       16000            30.02              29.82  		     3.639888
 2048       16000            60.04              59.78  		     3.648595
 4096       16000            119.11             118.30 		     3.610206
 8192       16000            199.00             198.92 		     3.035218
 16384      16000            202.55             202.50 		     1.544941
 32768      16000            199.20             199.15 		     0.759701
 65536      16000            201.68             201.66 		     0.384642
 131072     16000            199.42             199.40 		     0.190166
 262144     16000            201.25             201.24 		     0.095957
 524288     16000            201.87             201.87 		     0.048129
 1048576    16000            200.80             200.46 		     0.023896
 2097152    16000            187.93             187.93 		     0.011202
 4194304    16000            167.31             167.19 		     0.004983
 8388608    16000            167.49             167.29 		     0.002493
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007efec6000000
destroying current CUDA Ctx
