initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 1
[pid = 31493, dev = 1] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007fee9e000000 pointer=0x7fee9e000000
using DMA-BUF for GPU buffer address at 0x7fee9e000000 aligned at 0x7fee9e000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7fee9e000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x0358 PSN 0x7b31d4 OUT 0x10 RKey 0x182e00 VAddr 0x007feea6000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0359 PSN 0xe68c65 OUT 0x10 RKey 0x182e00 VAddr 0x007feea6800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x035a PSN 0x639315 OUT 0x10 RKey 0x182e00 VAddr 0x007feea7000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x035b PSN 0x96aa09 OUT 0x10 RKey 0x182e00 VAddr 0x007feea7800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x035c PSN 0x1ea51f OUT 0x10 RKey 0x182e00 VAddr 0x007feea8000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x035d PSN 0x1c0a5f OUT 0x10 RKey 0x182e00 VAddr 0x007feea8800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x035e PSN 0x49129c OUT 0x10 RKey 0x182e00 VAddr 0x007feea9000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x035f PSN 0xf3dd2f OUT 0x10 RKey 0x182e00 VAddr 0x007feea9800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0360 PSN 0x39cd71 OUT 0x10 RKey 0x182e00 VAddr 0x007feeaa000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0361 PSN 0xac0968 OUT 0x10 RKey 0x182e00 VAddr 0x007feeaa800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0362 PSN 0x1b1a22 OUT 0x10 RKey 0x182e00 VAddr 0x007feeab000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0363 PSN 0xde044 OUT 0x10 RKey 0x182e00 VAddr 0x007feeab800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0364 PSN 0xa80faa OUT 0x10 RKey 0x182e00 VAddr 0x007feeac000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0365 PSN 0x2eddd8 OUT 0x10 RKey 0x182e00 VAddr 0x007feeac800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0366 PSN 0x5a7cec OUT 0x10 RKey 0x182e00 VAddr 0x007feead000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 local address: LID 0000 QPN 0x0367 PSN 0x137b76 OUT 0x10 RKey 0x182e00 VAddr 0x007feead800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0358 PSN 0xb325df OUT 0x10 RKey 0x182e00 VAddr 0x007f7688000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0359 PSN 0x1f5714 OUT 0x10 RKey 0x182e00 VAddr 0x007f7688800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x035a PSN 0xff1998 OUT 0x10 RKey 0x182e00 VAddr 0x007f7689000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x035b PSN 0x6ca1d0 OUT 0x10 RKey 0x182e00 VAddr 0x007f7689800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x035c PSN 0x49eeda OUT 0x10 RKey 0x182e00 VAddr 0x007f768a000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x035d PSN 0x2c70fe OUT 0x10 RKey 0x182e00 VAddr 0x007f768a800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x035e PSN 0xb9e4f OUT 0x10 RKey 0x182e00 VAddr 0x007f768b000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x035f PSN 0x502a66 OUT 0x10 RKey 0x182e00 VAddr 0x007f768b800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0360 PSN 0x9a17dc OUT 0x10 RKey 0x182e00 VAddr 0x007f768c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0361 PSN 0x2bdaf7 OUT 0x10 RKey 0x182e00 VAddr 0x007f768c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0362 PSN 0xa1ce05 OUT 0x10 RKey 0x182e00 VAddr 0x007f768d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0363 PSN 0x4a69eb OUT 0x10 RKey 0x182e00 VAddr 0x007f768d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0364 PSN 0xeb5c5 OUT 0x10 RKey 0x182e00 VAddr 0x007f768e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0365 PSN 0x3d957 OUT 0x10 RKey 0x182e00 VAddr 0x007f768e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0366 PSN 0x11abff OUT 0x10 RKey 0x182e00 VAddr 0x007f768f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x0367 PSN 0xe1988d OUT 0x10 RKey 0x182e00 VAddr 0x007f768f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.060100            0.059998            3.749865
 4          16000            0.12               0.12   		     3.771219
 8          16000            0.24               0.24   		     3.788372
 16         16000            0.49               0.49   		     3.802914
 32         16000            0.97               0.96   		     3.766558
 64         16000            1.95               1.93   		     3.772096
 128        16000            3.85               3.84   		     3.750753
 256        16000            7.71               7.68   		     3.750225
 512        16000            15.75              15.59  		     3.806116
 1024       16000            31.45              31.20  		     3.807992
 2048       16000            63.89              63.54  		     3.877904
 4096       16000            129.80             128.37 		     3.917488
 8192       16000            186.42             186.39 		     2.844085
 16384      16000            209.01             208.94 		     1.594094
 32768      16000            207.17             207.14 		     0.790176
 65536      16000            209.38             209.38 		     0.399351
 131072     16000            207.92             207.92 		     0.198286
 262144     16000            208.69             208.69 		     0.099510
 524288     16000            209.13             209.13 		     0.049860
 1048576    16000            209.36             209.36 		     0.024957
 2097152    16000            194.26             193.82 		     0.011553
 4194304    16000            170.95             170.95 		     0.005095
 8388608    16000            170.96             170.96 		     0.002547
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007fee9e000000
destroying current CUDA Ctx
