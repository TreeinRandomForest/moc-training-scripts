initializing CUDA
Listing all CUDA devices in system:
CUDA device 0: PCIe address is 06:00
CUDA device 1: PCIe address is 26:00
CUDA device 2: PCIe address is A6:00
CUDA device 3: PCIe address is C6:00

Picking device No. 2
[pid = 26031, dev = 2] device name = [NVIDIA H100 80GB HBM3]
creating CUDA Ctx
making it the current CUDA Ctx
CUDA device integrated: 0
cuMemAlloc() of a 268435456 bytes GPU buffer
allocated GPU buffer address at 00007faf56000000 pointer=0x7faf56000000
using DMA-BUF for GPU buffer address at 0x7faf56000000 aligned at 0x7faf56000000 with aligned size 268435456
Calling ibv_reg_dmabuf_mr(offset=0, size=268435456, addr=0x7faf56000000, fd=55) for QP #0
---------------------------------------------------------------------------------------
                    RDMA_Read BW Test
 Dual-port       : OFF		Device         : mlx5_2
 Number of qps   : 16		Transport type : IB
 Connection type : RC		Using SRQ      : OFF
 PCIe relax order: ON		Lock-free      : OFF
 ibv_wr* API     : ON		Using DDP      : OFF
 TX depth        : 128
 CQ Moderation   : 100
 CQE Poll Batch  : 16
 Mtu             : 4096[B]
 Link type       : Ethernet
 GID index       : 3
 Outstand reads  : 16
 rdma_cm QPs	 : OFF
 Data ex. method : Ethernet
---------------------------------------------------------------------------------------
 local address: LID 0000 QPN 0x02f8 PSN 0xdf5447 OUT 0x10 RKey 0x182e00 VAddr 0x007faf5e000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02f9 PSN 0xa1625 OUT 0x10 RKey 0x182e00 VAddr 0x007faf5e800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02fa PSN 0xbe2d0b OUT 0x10 RKey 0x182e00 VAddr 0x007faf5f000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02fb PSN 0xbbaefe OUT 0x10 RKey 0x182e00 VAddr 0x007faf5f800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02fc PSN 0xbb6c39 OUT 0x10 RKey 0x182e00 VAddr 0x007faf60000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02fd PSN 0x2c9fa7 OUT 0x10 RKey 0x182e00 VAddr 0x007faf60800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02fe PSN 0x4dc57a OUT 0x10 RKey 0x182e00 VAddr 0x007faf61000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x02ff PSN 0xc5eceb OUT 0x10 RKey 0x182e00 VAddr 0x007faf61800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0300 PSN 0x93dbb3 OUT 0x10 RKey 0x182e00 VAddr 0x007faf62000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0301 PSN 0x21dab9 OUT 0x10 RKey 0x182e00 VAddr 0x007faf62800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0302 PSN 0x898c69 OUT 0x10 RKey 0x182e00 VAddr 0x007faf63000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0303 PSN 0xbddf48 OUT 0x10 RKey 0x182e00 VAddr 0x007faf63800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0304 PSN 0xdbaf94 OUT 0x10 RKey 0x182e00 VAddr 0x007faf64000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0305 PSN 0x4a3b1 OUT 0x10 RKey 0x182e00 VAddr 0x007faf64800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0306 PSN 0xb63d1b OUT 0x10 RKey 0x182e00 VAddr 0x007faf65000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 local address: LID 0000 QPN 0x0307 PSN 0xac1643 OUT 0x10 RKey 0x182e00 VAddr 0x007faf65800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:83
 remote address: LID 0000 QPN 0x02f8 PSN 0xa8ace9 OUT 0x10 RKey 0x182e00 VAddr 0x007f0626000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02f9 PSN 0xbe5f1f OUT 0x10 RKey 0x182e00 VAddr 0x007f0626800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02fa PSN 0x89db7d OUT 0x10 RKey 0x182e00 VAddr 0x007f0627000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02fb PSN 0x476188 OUT 0x10 RKey 0x182e00 VAddr 0x007f0627800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02fc PSN 0xd66cfb OUT 0x10 RKey 0x182e00 VAddr 0x007f0628000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02fd PSN 0x323e41 OUT 0x10 RKey 0x182e00 VAddr 0x007f0628800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02fe PSN 0x28a90c OUT 0x10 RKey 0x182e00 VAddr 0x007f0629000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x02ff PSN 0x5fe15 OUT 0x10 RKey 0x182e00 VAddr 0x007f0629800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0300 PSN 0xfee695 OUT 0x10 RKey 0x182e00 VAddr 0x007f062a000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0301 PSN 0xd488f3 OUT 0x10 RKey 0x182e00 VAddr 0x007f062a800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0302 PSN 0x9dd71b OUT 0x10 RKey 0x182e00 VAddr 0x007f062b000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0303 PSN 0x959912 OUT 0x10 RKey 0x182e00 VAddr 0x007f062b800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0304 PSN 0xd94696 OUT 0x10 RKey 0x182e00 VAddr 0x007f062c000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0305 PSN 0x81bb8b OUT 0x10 RKey 0x182e00 VAddr 0x007f062c800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0306 PSN 0x5f40ed OUT 0x10 RKey 0x182e00 VAddr 0x007f062d000000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
 remote address: LID 0000 QPN 0x0307 PSN 0xa962ad OUT 0x10 RKey 0x182e00 VAddr 0x007f062d800000
 GID: 00:00:00:00:00:00:00:00:00:00:255:255:192:168:60:174
---------------------------------------------------------------------------------------
 #bytes     #iterations    BW peak[Gb/sec]    BW average[Gb/sec]   MsgRate[Mpps]
 2          16000           0.080178            0.079881            4.992574
 4          16000            0.16               0.16   		     5.077995
 8          16000            0.33               0.33   		     5.085015
 16         16000            0.65               0.65   		     5.087246
 32         16000            1.31               1.30   		     5.077495
 64         16000            2.61               2.60   		     5.075321
 128        16000            5.20               5.19   		     5.067436
 256        16000            10.40              10.33  		     5.042022
 512        16000            20.80              20.72  		     5.059273
 1024       16000            41.61              41.45  		     5.060313
 2048       16000            82.84              82.40  		     5.029517
 4096       16000            164.57             164.46 		     5.018962
 8192       16000            196.09             195.85 		     2.988465
 16384      16000            196.99             196.90 		     1.502258
 32768      16000            197.27             197.22 		     0.752349
 65536      16000            197.33             197.31 		     0.376343
 131072     16000            197.28             197.28 		     0.188138
 262144     16000            197.28             197.28 		     0.094068
 524288     16000            197.32             197.32 		     0.047044
 1048576    16000            197.31             197.31 		     0.023521
 2097152    16000            184.74             184.74 		     0.011012
 4194304    16000            163.21             163.21 		     0.004864
 8388608    16000            163.19             163.19 		     0.002432
---------------------------------------------------------------------------------------
deallocating GPU buffer 00007faf56000000
destroying current CUDA Ctx
